window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){return i(t[r][1][e]||e)},l,l.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,t,n){var o,i,a=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(o===setTimeout)return setTimeout(e,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}(function(){try{o="function"==typeof setTimeout?setTimeout:r}catch(e){o=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var u,l=[],d=!1,f=-1;function p(){d&&u&&(d=!1,u.length?l=u.concat(l):f=-1,l.length&&g())}function g(){if(!d){var e=c(p);d=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||d||c(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],LanguageData:[function(e,t,n){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var o=e("polyglot.min"),i=null;function a(e){return window.i18n.languages[e]}function r(e){e&&(i?i.replace(e):i=new o({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=a(e)||{};window.i18n.curLang=e,r(t),this.inst=i}},t:function(e,t){if(i)return i.t(e,t)},inst:i,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var o=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,o)}for(var i=0;i<t.length;++i){var a=t[i];a.node.active&&a.updateLabel()}for(var r=[],s=0;s<e.length;++s){var c=e[s].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(r,c)}for(var u=0;u<r.length;++u){var l=r[u];l.node.active&&l.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t,n){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var o=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){o.inst||o.init(),console.log("hagologgame i18n init 1"),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?o.t(this.dataID)&&(this.label.string=o.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,n){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var o=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:o}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],SpriteFrameSet:[function(e,t,n){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var o=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=o,cc._RF.pop()},{}],YYApiCore:[function(e,t,n){"use strict";if(cc._RF.push(t,"bf7b00zcENP4KXP7Vf34v+W","YYApiCore"),Object.defineProperty(n,"__esModule",{value:!0}),navigator.userAgent.match(/(iPad|iPhone|iPod).*?YY/g))if(null==window.opener&&null==window.YYApiCore||null!=window.opener&&null==window.opener.YYApiCore){var o=document.createElement("iframe");o.style.display="none",o.src="yyapi://load",document.body.appendChild(o)}else null!=window.opener&&null==window.YYApiCore&&null!=window.opener.YYApiCore&&(window.YYApiCore=window.opener.YYApiCore);else window&&-1!==navigator.userAgent.indexOf("Android")&&(window.YYApiCore={__GLOBAL_FUNC_INDEX__:0,invokeClientMethod:function(e,t,n,o){var i;try{var a="";o&&(a="function"==typeof o?window.YYApiCore.createGlobalFuncForCallback(o):o),i=JSON.parse(window.AndroidJSInterfaceV2.invoke(e,t,JSON.stringify(n||{}),a))}catch(e){console&&console.log(e)}return i},createGlobalFuncForCallback:function(e){if(e){var t="__GLOBAL_CALLBACK__"+window.YYApiCore.__GLOBAL_FUNC_INDEX__++;return window[t]=function(){var t=arguments,n="function"==typeof e?e:window[e];setTimeout(function(){n.apply(null,t)},0)},t}return null},invokeWebMethod:function(e,t){window.YYApiCore.invokeCallbackWithArgs(e,[t])},invokeCallbackWithArgs:function(e,t){if(e){var n,o=null;"function"==typeof e?o=e:(n=window[e])&&"function"==typeof n&&(o=n),o&&setTimeout(function(){o.apply(null,t)},0)}}});n.default=window.YYApiCore||{invokeClientMethod:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!1}},cc._RF.pop()},{}],appindex:[function(e,t,n){"use strict";cc._RF.push(t,"f9825bXxlZOdp4i0EoAm6yC","appindex"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./hagocore/hagocoreindex"),i=e("./yycore/yycoreindex");n.isHago=!!window.yyrt,n.default=n.isHago?o.default:i.default,cc._RF.pop()},{"./hagocore/hagocoreindex":"hagocoreindex","./yycore/yycoreindex":"yycoreindex"}],axios:[function(e,t,n){(function(e){"use strict";cc._RF.push(t,"7f2a2RrEjFJg6BVrPYoAfHF","axios");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,i){"object"===(void 0===n?"undefined":o(n))&&"object"===(void 0===t?"undefined":o(t))?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"===(void 0===n?"undefined":o(n))?n.axios=i():e.axios=i()})(void 0,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var o=n(2),i=n(3),a=n(5),r=n(6);function s(e){var t=new a(e),n=i(a.prototype.request,t);return o.extend(n,a.prototype,t),o.extend(n,t),n}var c=s(r);c.Axios=a,c.create=function(e){return s(o.merge(r,e))},c.Cancel=n(23),c.CancelToken=n(24),c.isCancel=n(20),c.all=function(e){return Promise.all(e)},c.spread=n(25),e.exports=c,e.exports.default=c},function(e,t,n){var i=n(3),a=n(4),r=Object.prototype.toString;function s(e){return"[object Array]"===r.call(e)}function c(e){return null!==e&&"object"===(void 0===e?"undefined":o(e))}function u(e){return"[object Function]"===r.call(e)}function l(e,t){if(null!==e&&void 0!==e)if("object"!==(void 0===e?"undefined":o(e))&&(e=[e]),s(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:a,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,i){"object"===o(t[i])&&"object"===(void 0===n?"undefined":o(n))?t[i]=e(t[i],n):t[i]=n}for(var i=0,a=arguments.length;i<a;i++)l(arguments[i],n);return t},extend:function(e,t,n){return l(t,function(t,o){e[o]=n&&"function"==typeof t?i(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){var o=n(6),i=n(2),a=n(17),r=n(18);function s(e){this.defaults=e,this.interceptors={request:new a,response:new a}}s.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(o,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[r,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,o){return this.request(i.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=s},function(t,n,o){var i=o(2),a=o(7),r={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=o(8):void 0!==e&&(t=o(8)),t}(),transformRequest:[function(e,t){return a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(e){c.headers[e]={}}),i.forEach(["post","put","patch"],function(e){c.headers[e]=i.merge(r)}),t.exports=c},function(e,t,n){var o=n(2);e.exports=function(e,t){o.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},function(e,t,n){var o=n(2),i=n(9),a=n(12),r=n(13),s=n(14),c=n(10),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(15);e.exports=function(e){return new Promise(function(t,l){var d=e.data,f=e.headers;o.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest,g="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,g="onload",h=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var m=e.auth.username||"",_=e.auth.password||"";f.Authorization="Basic "+u(m+":"+_)}if(p.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[g]=function(){if(p&&(4===p.readyState||h)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?r(p.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,l,o),p=null}},p.onerror=function(){l(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},o.isStandardBrowserEnv()){var b=n(16),y=(e.withCredentials||s(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&o.forEach(f,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),void 0===d&&(d=null),p.send(d)})}},function(e,t,n){var o=n(10);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){var o=n(11);e.exports=function(e,t,n,i,a){var r=new Error(e);return o(r,t,n,i,a)}},function(e,t){e.exports=function(e,t,n,o,i){return e.config=t,n&&(e.code=n),e.request=o,e.response=i,e}},function(e,t,n){var o=n(2);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(o.isURLSearchParams(t))a=t.toString();else{var r=[];o.forEach(t,function(e,t){null!==e&&void 0!==e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),r.push(i(t)+"="+i(e))}))}),a=r.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},function(e,t,n){var o=n(2),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,r={};return e?(o.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=o.trim(e.substr(0,a)).toLowerCase(),n=o.trim(e.substr(a+1)),t){if(r[t]&&i.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}}),r):r}},function(e,t,n){var o=n(2);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=o.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,i,a=String(e),r="",s=0,c=n;a.charAt(0|s)||(c="=",s%1);r+=c.charAt(63&t>>8-s%1*8)){if((i=a.charCodeAt(s+=.75))>255)throw new o;t=t<<8|i}return r}},function(e,t,n){var o=n(2);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,i,a,r){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(i)&&s.push("path="+i),o.isString(a)&&s.push("domain="+a),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){var o=n(2);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){var o=n(2),i=n(19),a=n(20),r=n(6),s=n(21),c=n(22);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||r.adapter)(e).then(function(t){return u(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){var o=n(2);e.exports=function(e,t,n){return o.forEach(n,function(n){e=n(e,t)}),e}},function(e,t){e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t){function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,n){var o=n(23);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t){e.exports=function(e){return function(t){return e.apply(null,t)}}}])}),cc._RF.pop()}).call(this,e("_process"))},{_process:1}],bet_bt:[function(e,t,n){"use strict";cc._RF.push(t,"d69e03feXxMaq8thp6K/vHu","bet_bt"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../lib/globalstate/global_state"),i=e("../lib/globalstate/state_ctrl"),a=e("../config"),r=e("../lib/eventbus/instance"),s=e("../lib/helper/util"),c=e("../lib/app/appindex"),u=e("LanguageData"),l=e("../lib/http/gameAxios"),d=cc._decorator,f=d.ccclass,p=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.leftOffset=0,t}return __extends(t,e),t.prototype.start=function(){},t.prototype._canBet=function(e,t,n){var o=!0;return e<t?(s.commonConfirm(u.t("exchange_insufficient_balance_text"),function(){c.default.showWallet()}),o=!1):1e4-n<t&&(s.commonToast(u.t("bet_limit")),o=!1),o},t.prototype.betBtSelect=function(e){return __awaiter(this,void 0,void 0,function(){var t,n,d,f,p,g,h,m,_,b,y,v=this;return __generator(this,function(w){switch(w.label){case 0:return[4,c.default.checkLogin()];case 1:if(t=w.sent(),cc.log(t),!t)return[2,!1];for(_ in n=cc.find("Canvas/bet_select"),d=cc.find("Canvas/bet_contain").children[e.currentTarget.clickIndex],f=d.getChildByName("bt_bottom").getChildByName("bt_total_value").getComponent(cc.RichText),p=d.getChildByName("bt_bottom").getChildByName("bt_mine_value").getComponent(cc.RichText),g=cc.find("Canvas/bet_select").children,h=10,m=0,g)if(!0===g[_].getChildByName("selected_bg").active){m=Number(_),h=g[_].cost;break}return this._canBet(o.default.propCount,h,i.default.getMineAmount(e.currentTarget.clickIndex))?((b=cc.instantiate(g[m])).getChildByName("selected_bg").active=!1,b.getChildByName("selected_icon").active=!1,b.removeComponent(cc.Button),n.addChild(b),this.leftOffset+=20,i.default.addTotalAmount(e.currentTarget.clickIndex,h),i.default.addMineAmount(e.currentTarget.clickIndex,h),f.string=""+s.unit(i.default.getTotalAmount(e.currentTarget.clickIndex)),p.string=""+s.unit(i.default.getMineAmount(e.currentTarget.clickIndex)),y=cc.sequence(cc.delayTime(0),cc.moveTo(.3,cc.v2(d.x-50+this.leftOffset,d.y+220)),cc.callFunc(function(){v.scheduleOnce(function(){b.removeFromParent(),v.leftOffset-=20},.6)})),b.runAction(y),l.default.get(""+a.bet,{params:{ticket:"",gameId:o.default.gameRoundInfo.gameId,gameRoundId:o.default.gameRoundInfo.gameRoundId,betAmount:h,betObjId:e.currentTarget.betObjId}}).then(function(e){return __awaiter(v,void 0,void 0,function(){return __generator(this,function(t){return console.log("hagologgame after bet",e),0!==e.code?(4===e.code?cc.director.loadScene("exchange"):5===e.code?s.commonToast(u.t("bet_limit")):s.commonToast(u.t("bet_fail")),[2]):(r.default.emit("updateWallet",{type:"bet",amount:e.data.betAmount}),[2])})})}),[2]):[2,!1]}})})},__decorate([p(cc.Label)],t.prototype,"label",void 0),__decorate([p],t.prototype,"text",void 0),__decorate([p],t.prototype,"leftOffset",void 0),t=__decorate([f],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../config":"config","../lib/app/appindex":"appindex","../lib/eventbus/instance":"instance","../lib/globalstate/global_state":"global_state","../lib/globalstate/state_ctrl":"state_ctrl","../lib/helper/util":"util","../lib/http/gameAxios":"gameAxios",LanguageData:"LanguageData"}],bet_scene:[function(e,t,n){"use strict";cc._RF.push(t,"4cbf3CjvgZNAbpRl6qeC4Di","bet_scene"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./lib/eventbus/instance"),i=e("./lib/globalstate/global_state"),a=e("./lib/globalstate/state_ctrl"),r=e("./lib/helper/util"),s=e("LanguageData"),c=cc._decorator,u=c.ccclass,l=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.betBtArray=[],t.selbetBtArray=[],t.btContain=null,t.selbtContain=null,t.m_ButtonAssets=[],t.m_SelButtonAssets=[],t.m_AutoBetBt=[],t.m_bet_bt_fab=null,t.m_sel_bt_fab=null,t.coinOffset=[],t.animationLastTime=0,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;console.log("hagologgame bet_scene onload",s,i.default),o.default.emit("commonActive"),o.default.on("drawBetBt",function(t){e.drawBetBt(t.detail.betIndex,t.detail.cost,t.detail.total)}),s.updateSceneRenderers(),cc.director.preloadScene("running")},t.prototype.onDestroy=function(){o.default.off("drawBetBt")},t.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return console.log("hagologgame bet_scene start"),this.doTimeOut(),[4,this.setAutoBetBt()];case 1:return e.sent(),this.betButtonInit(),this.selbetButtonInit(),[2]}})})},t.prototype.setAutoBetBt=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return cc.find("Canvas/bet_auto_bt").getComponent(cc.Toggle).isChecked=i.default.isAutoBet,i.default.isAutoBet?[4,a.default.doAutoBet()]:[3,2];case 1:e.sent(),o.default.emit("updateWallet"),this.setAutoBetBtUI(),e.label=2;case 2:return this.updateAutoBetUI(),[2]}})})},t.prototype.setAutoBetBtUI=function(){var e=this;i.default.userBetInfos.length>0&&i.default.userBetInfos.forEach(function(t){e.betBtArray.forEach(function(e){e.betObjId===t.betObjId&&(e.getChildByName("bt_bottom").getChildByName("bt_mine_value").getComponent(cc.RichText).string=""+r.unit(t.betAmount))})})},t.prototype.updateAutoBetUI=function(){i.default.isAutoBet?cc.find("Canvas/bet_auto_bt/Background").getComponent(cc.Sprite).spriteFrame=this.m_AutoBetBt[1]:cc.find("Canvas/bet_auto_bt/Background").getComponent(cc.Sprite).spriteFrame=this.m_AutoBetBt[0]},t.prototype.setAutoBet=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return t=e.node.getComponent(cc.Toggle).isChecked,console.log("hagologgame setAutoBet",t),t===i.default.isAutoBet?[3,2]:(i.default.isAutoBet=t,this.updateAutoBetUI(),[4,a.default.setGamblingAutoBet(t)]);case 1:n.sent(),this.updateAutoBetUI(),n.label=2;case 2:return[2]}})})},t.prototype.doTimeOut=function(){var e=this,t=(new Date).getTime(),n=i.default.gameRoundInfo.timestamp+(t-i.default.updateTimeStamp),o=i.default.gameRoundInfo.statusInfoList;if(o){var a=Number((o[1].timestamp-n)/1e3),r=a<=20?a:20;console.log("hagologgame bet_scene onload doTimeOut",r,o[1].timestamp),this.timeoutCallBack=function(){var t=(new Date).getTime(),n=i.default.gameRoundInfo.timestamp+(t-i.default.updateTimeStamp);(r=Number(((o[1].timestamp-n)/1e3).toFixed(1)))<=0&&(r=0,e.unschedule(e.timeoutCallBack),cc.director.loadScene("running")),cc.find("Canvas/bet_timeout/clock_main").width=r/20*510,cc.find("Canvas/bet_timeout/clock_value").getComponent(cc.Label).string=parseInt(r.toString()).toString()},this.schedule(this.timeoutCallBack,.2,5*a)}},t.prototype.selbetButtonInit=function(){var e=[{name:1,cost:1,left:10,top:0},{name:10,cost:10,left:120,top:0},{name:100,cost:100,left:230,top:0},{name:"1K",cost:1e3,left:340,top:0},{name:"10K",cost:1e4,left:450,top:0}];for(var t in e)this.selbetBtArray[t]=cc.instantiate(this.m_sel_bt_fab),this.selbetBtArray[t].setPosition(e[t].left-300,e[t].top-5),this.selbetBtArray[t].getChildByName("select_bg").getComponent(cc.Sprite).spriteFrame=this.m_SelButtonAssets[t],this.selbetBtArray[t].getChildByName("select_value").getComponent(cc.RichText).string="<b>"+e[t].name.toString()+"</b>",this.selbetBtArray[t].clickIndex=t,this.selbetBtArray[t].cost=e[t].cost,Number(t)===Number(i.default.curSelectCost)?(this.selbetBtArray[t].getChildByName("selected_bg").active=!0,this.selbetBtArray[t].getChildByName("selected_icon").active=!0):(this.selbetBtArray[t].getChildByName("selected_bg").active=!1,this.selbetBtArray[t].getChildByName("selected_icon").active=!1),this.selbtContain.addChild(this.selbetBtArray[t])},t.prototype.betButtonInit=function(){var e=this,t=[{left:50,top:40,iconX:-53,iconY:34},{left:410,top:40,iconX:-53,iconY:29},{left:50,top:170,iconX:-53,iconY:29},{left:410,top:170,iconX:-53,iconY:29},{left:50,top:300,iconX:-53,iconY:29},{left:410,top:300,iconX:-53,iconY:29}],n=i.default.gameRoundInfo.gameBetInfoList;for(var o in n)this.betBtArray[o]=cc.instantiate(this.m_bet_bt_fab),this.betBtArray[o].setPosition(t[o].left-230,240-t[o].top),this.betBtArray[o].getChildByName("bt_icon").setPosition(t[o].iconX,t[o].iconY),this.betBtArray[o].getChildByName("bt_icon").getComponent(cc.Sprite).spriteFrame=this.m_ButtonAssets[o],this.betBtArray[o].getChildByName("bt_bottom").getChildByName("bt_cost").getComponent(cc.RichText).string="<b><i>1:"+i.default.gameRoundInfo.gameBetInfoList[o].odds.toString()+"</b></i>",this.betBtArray[o].getChildByName("bt_bottom").getChildByName("bt_total_value").getComponent(cc.RichText).string=""+r.unit(n[o].betAmount),this.betBtArray[o].betObjId=n[o].betObjId,this.betBtArray[o].clickIndex=o,this.btContain.addChild(this.betBtArray[o]);this.betBtArray.forEach(function(e){e.getChildByName("bt_bottom").getChildByName("bt_mine_value").getComponent(cc.RichText).string="0"}),console.log("hagologgame \u672c\u573a\u81ea\u5df1\u4e0b\u6ce8\u6570\u636e",i.default.userBetInfos),i.default.userBetInfos.length>0&&i.default.userBetInfos.forEach(function(t){e.betBtArray.forEach(function(e){e.betObjId===t.betObjId&&(e.getChildByName("bt_bottom").getChildByName("bt_mine_value").getComponent(cc.RichText).string=""+r.unit(t.betAmount))})})},t.prototype.drawBetBt=function(e,t,n){this.betBtArray[e]&&(this.betBtArray[e].getChildByName("bt_bottom").getChildByName("bt_total_value").getComponent(cc.RichText).string=""+r.unit(n),this.betRobotBtSelect(e,t))},t.prototype.betRobotBtSelect=function(e,t){var n=this.btContain.children[e],o=Date.now();if(n)if(o-this.animationLastTime<480)console.log("hagologgame \u52a8\u753b\u8282\u6d41",o,this.animationLastTime);else{console.log("hagologgame \u52a8\u753b\u4e0b\u6ce8",o,this.animationLastTime),this.animationLastTime=Date.now();var i=this,a=0;50===t?a=1:100===t?a=2:1e3===t?a=3:1e3===t?a=4:1e4===t&&(a=5);var r=this.selbtContain.children;if(r[a]){var s=cc.instantiate(r[a]);s.getChildByName("selected_bg").active=!1,s.getChildByName("selected_icon").active=!1,s.setPosition(0,100),s.removeComponent(cc.Button),n.addChild(s),i.coinOffset[e]?i.coinOffset[e]-=20:i.coinOffset[e]=0;var c=cc.sequence(cc.delayTime(0),cc.moveTo(.3,cc.v2(n.x/6+i.coinOffset[e],n.y/6-10)),cc.callFunc(function(){i.scheduleOnce(function(){s.removeFromParent(),i.coinOffset[e]+=20},.6)}));s.runAction(c)}}},__decorate([l({type:cc.Node})],t.prototype,"betBtArray",void 0),__decorate([l({type:cc.Node})],t.prototype,"selbetBtArray",void 0),__decorate([l({type:cc.Node})],t.prototype,"btContain",void 0),__decorate([l({type:cc.Node})],t.prototype,"selbtContain",void 0),__decorate([l({type:cc.SpriteFrame})],t.prototype,"m_ButtonAssets",void 0),__decorate([l({type:cc.SpriteFrame})],t.prototype,"m_SelButtonAssets",void 0),__decorate([l({type:cc.SpriteFrame})],t.prototype,"m_AutoBetBt",void 0),__decorate([l({type:cc.Prefab})],t.prototype,"m_bet_bt_fab",void 0),__decorate([l({type:cc.Prefab})],t.prototype,"m_sel_bt_fab",void 0),t=__decorate([u],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./lib/eventbus/instance":"instance","./lib/globalstate/global_state":"global_state","./lib/globalstate/state_ctrl":"state_ctrl","./lib/helper/util":"util",LanguageData:"LanguageData"}],brower:[function(e,t,n){"use strict";function o(e,t){if(""===e||0===t.length)return!1;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>0)return!0;return!1}cc._RF.push(t,"840ab8Kp0FNKq6Oh8gZL+tN","brower"),Object.defineProperty(n,"__esModule",{value:!0});var i=navigator.userAgent.toLowerCase();function a(){return o(i,["micromessenger"])}function r(){return o(i,["ipad","iphone","ipod"])}function s(){return o(i,["android"])}function c(){return o(i,["qq"])}function u(){return o(i,["weibo"])}function l(){return console.log("isSafari",i),/safari/.test(i)&&!/chrome/.test(i)}function d(){return window.navigator.language}n.isWeixin=a,n.isIphone=r,n.isAndroid=s,n.isQQ=c,n.isWeibo=u,n.isSafari=l,n.getLanguage=d,n.default={isWeixin:a,isIphone:r,isAndroid:s,isQQ:c,isWeibo:u,getLanguage:d,isSafari:l},cc._RF.pop()},{}],callNative:[function(e,t,n){"use strict";cc._RF.push(t,"eaad1x2m1pEVY3zKuAa0ZmD","callNative"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../brower");n.default={uploadLogo:function(e,t,n){try{if(o.default.isIphone()){var i={cmd:e,data:t,data2:n};window.webkit&&window.webkit.messageHandlers.LogoAction.postMessage(JSON.stringify(i))}else console.log("\u5b89\u5353",t,n),window.LogoAction.invoke(e,t,n)}catch(e){console.log("\u4e0a\u4f20\u9519\u8bef ",e)}},uploadFile:function(e,t,n){console.log("uploadFile",n);try{if(o.default.isIphone()){var i={cmd:e,fileType:t,data:n};window.webkit&&window.webkit.messageHandlers.LogoAction.postMessage(JSON.stringify(i))}else window.LogoAction.invoke(e,t,n)}catch(e){console.log("\u4e0a\u4f20\u9519\u8bef ",e)}}},cc._RF.pop()},{"../../brower":"brower"}],commom_scene:[function(e,t,n){"use strict";cc._RF.push(t,"53b57Xi0BtA8YPy8etnWKID","commom_scene"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./lib/globalstate/global_state"),i=e("./lib/globalstate/state_ctrl"),a=e("./lib/eventbus/instance"),r=e("./lib/http/i18n"),s=e("./lib/app/appindex"),c=e("./lib/helper/util"),u=e("../../assets/script/config"),l=e("./lib/globalstate/state_ctrl");console.log("hagologgame common script");var d=e("LanguageData"),f=cc._decorator,p=f.ccclass,g=f.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myWallet=null,t.commonToast=null,t.commonConfirm=null,t.topBar=null,t.bottomBar=null,t.debugBar=null,t.giftBt=null,t.giftPackageBlock=null,t.giftContent=null,t.giftRestTime=null,t.diamondIcon=null,t.uiCamera=null,t.bet=null,t.title=null,t.othersWindow_help=null,t.othersWindow_history=null,t.awardWindow=null,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;console.log("hagologgame common_scence onload"),cc.game.addPersistRootNode(this.node),cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this._onSceneLaunched,this),a.default.on("updateWallet",function(t){e.myWalletInit(t.detail)}),a.default.on("gameReload",function(){e.loadScene("main")}),a.default.on("commonActive",function(){console.log("hagologgame commonActive"),e.bottomBar.active=!0,e.topBar.active=!0}),a.default.on("commonToast",function(t){t.detail.message?e._commonToast(t.detail.message,t.detail.showtime):console.log("hagologgame commonToast empty message")}),a.default.on("commonConfirm",function(t){e._commonConfirm(t.detail.message,t.detail.cb)}),a.default.on("closeOthers",function(t){e._closeOthers()}),a.default.on("openOthers",function(t){e.loadOtherScene({},t.detail.pagename)}),a.default.on("showAwardWindow",function(t){e._showAwardWindow(t.detail.amount)}),a.default.on("walletAddAnimation",function(t){e.scheduleOnce(function(){e.diamondIcon.getComponent(cc.Animation).play("diamond_action")},.8)}),document.addEventListener("visibilitychange",function(){console.log("hagologgame \u524d\u540e\u53f0\u5207\u6362",document.visibilityState),"visible"===document.visibilityState&&a.default.emit("gameReload")}),c.getEnvironment()&&(this.debugBar.active=!0),this._closeOthers(),this._gaRequest()},t.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return console.log("hagologgame common scene isApp "+s.default.isApp()+" []"),o.default.baseClientInfo.hadSet?[3,2]:[4,i.default.setBaseGameInfo()];case 1:t.sent(),t.label=2;case 2:return s.default.isApp()&&(console.log("hagologgame common scene start GlobalState",JSON.stringify(o.default)),s.default.subscribeGame({id:o.default.baseClientInfo.gameId}).then(function(e){console.log("hagologgame \u5e7f\u64ad\u8ba2\u9605\u56de\u8c03"+JSON.stringify(e))}),this._boardcaseHandler()),e=c.getLanguage(),console.log("hagologgame before set i18n "+e),[4,Promise.all([this.loadI18n(e)]).catch(function(e){console.log("hagologgame promise all err",e)})];case 3:return t.sent(),o.default.i18nReady=!0,a.default.emit("i18nReady"),this.title.string=d.t("title"),this._showGiftBt(),[2]}})})},t.prototype.loadScene=function(e){cc.director.loadScene(e)},t.prototype._closeOthers=function(){this.othersWindow_help.active=!1,this.othersWindow_history.active=!1},t.prototype._ifCanChangeScene=function(){return console.log("hagologgame _ifCanChangeScene",o.default.gameRoundInfo.gameStatus),o.default.gameRoundInfo&&o.default.gameRoundInfo.gameStatus&&o.default.gameRoundInfo.gameStatus!==u.GAME_STATUS.GAME_END&&o.default.gameRoundInfo.gameStatus!==u.GAME_STATUS.GAME_RESULT_SHOW},t.prototype.loadOtherScene=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(a.default.emit("loadOtherScence",{scenceName:t}),t){case"exchange":s.default.showWallet();break;case"rank":break;case"history":this.othersWindow_history.active=!0;break;case"help":this.othersWindow_help.active=!0;break;case"forage":s.default.showWallet()}return[2]})})},t.prototype._onSceneLaunched=function(){var e=cc.Camera.cameras;console.log("hagologgame cameras",e);for(var t=0,n=e.length;t<n;t++){var o=e[t];o===this.uiCamera?o.cullingMask=1<<this.node.groupIndex:o.cullingMask=o.cullingMask&~(1<<this.node.groupIndex)}},t.prototype.myWalletInit=function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){switch(t.label){case 0:return console.log("hagologgame myWalletInit",o.default.propCount,e),e&&e.type?("bet"===e.type&&e.amount>0&&(o.default.propCount-=e.amount),[3,3]):[3,1];case 1:return[4,i.default.getUserPropCount()];case 2:t.sent(),o.default.propCount>10&&(o.default.curSelectCost=1),t.label=3;case 3:return console.log("hagologgame myWalletInit",c.unit(o.default.propCount)),this.myWallet.getComponent(cc.Label).string=c.unit(o.default.propCount),[2]}})})},t.prototype._gaRequest=function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.googletagmanager.com/gtag/js?id="+u.GA_KEY,document.body.appendChild(e),e.onload=function(){function e(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",u.GA_KEY)}},t.prototype._boardcaseHandler=function(){var e=function(e){var t=atob(e).replace(/"gameRoundId":(\d*)/,'"gameRoundId":"$1"'),n=JSON.parse(t);"gamblingBetBroadcast"===n.type&&Number(n.data.uid)!==Number(o.default.myUid)&&n.data.gameRoundId===o.default.gameRoundInfo.gameRoundId&&(console.log("\u5e7f\u64ad gamblingBetBroadcast \u5904\u7406"),n.data.gameBetInfoList.forEach(function(e){o.default.gameRoundInfo.gameBetInfoList[e.betObjId-1]=e,a.default.emit("drawBetBt",{betIndex:e.betObjId-1,cost:e.betUpdateAmount,total:e.betAmount})}))};window.__GAME_MSG_LISTENER__=function(t){e(t)},a.default.on("broadcastDataOnReceive",function(t){e(t.detail)})},t.prototype.confrimClick=function(e,t){console.log("hagologgame confrimClick",e,t),2===Number(t)&&this.confirmCb(),this.commonConfirm.active=!1},t.prototype._showGiftBt=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,l.default.checkExistFreePackage()];case 1:return e.sent(),console.log("hagologgame show gift "+JSON.stringify(o.default.giftMessage)),o.default.giftMessage.isExist&&(this.giftBt.active=!0,this.showGiftPackage()),[2]}})})},t.prototype.showGiftPackage=function(){var e=this,t=d.t("lucky_package_note_diamond").split(/\[\$\$\]\[\$\$\]/);t[0]=""+t[0],t[1]=t[1].replace(/\[\&\&\]\[\&\&\]/,o.default.giftMessage.leftHours),this.giftPackageBlock.active=!0,this.giftContent.getChildByName("number").getChildByName("number_label").getComponent(cc.Label).string=""+o.default.giftMessage.giftCount,this.giftContent.getChildByName("before").getComponent(cc.Label).string=t[0],this.giftContent.getChildByName("after").getComponent(cc.Label).string=t[1],this.timeoutGift=function(){var t=o.default.giftMessage.expireTime-(new Date).getTime();if(t<1e3)e.unschedule(e.timeoutGift),e.giftBt.active=!1,e.closeGiftPackage();else{var n=d.t("lucky_package_disappear").replace(/\[\&\&\]\[\&\&\]/,c.formatDuring(t));e.giftRestTime.getComponent(cc.Label).string=n}},this.schedule(this.timeoutGift,1)},t.prototype._showAwardWindow=function(e){var t=this;this.diamondIcon.getComponent(cc.Animation).setCurrentTime(0,"diamond_icon"),this.awardWindow.getChildByName("package_bg").getChildByName("award_tips").getChildByName("diamond_value").getComponent(cc.Label).string=e,this.awardWindow.active=!0;var n=5,o=this.awardWindow.getChildByName("package_bg").getChildByName("close_bt").getChildByName("btvalue").getComponent(cc.Label);o.string=d.t("window_award_close")+"("+n+"s)",this.timeoutAwardWindow=function(){(n-=1)<0?t.closeAwardWindow():o.string=d.t("window_award_close")+"("+n+"s)"},this.schedule(this.timeoutAwardWindow,1)},t.prototype.closeAwardWindow=function(){this.awardWindow.active=!1,this.unschedule(this.timeoutAwardWindow)},t.prototype.closeGiftPackage=function(){this.giftPackageBlock.active=!1},t.prototype.getGiftPackage=function(){return __awaiter(this,void 0,void 0,function(){var e,t=this;return __generator(this,function(n){switch(n.label){case 0:return[4,l.default.receiveFreePackage()];case 1:return e=n.sent(),console.log("hagologgame getGiftPackage "+JSON.stringify(e)),0===e.code?(c.commonToast(d.t("lucky_package_get_success")),this.closeGiftPackage(),this.giftBt.active=!1,this.scheduleOnce(function(){t.myWalletInit()},1)):c.commonToast(e.message),[2]}})})},t.prototype._commonConfirm=function(e,t){console.log("hagologgame _commonConfirm",this.commonConfirm),this.commonConfirm.children[0].children[0].getComponent(cc.Label).string=e,this.confirmCb=t,this.commonConfirm.active=!0},t.prototype._commonToast=function(e,t){var n=this;console.log("hagologgame _commonToast",e,this.commonToast),this.commonToast.active=!0,this.commonToast.children[1].getComponent(cc.Label).string=e,this.scheduleOnce(function(){n.commonToast.active=!1},t||2)},t.prototype.loadI18n=function(e){return o.default.useLanguage.includes(e)||(e="en"),r.default.get("/common/"+e+".json",{}).then(function(t){console.log("hagologgame after fetch",t),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages[e]=t.data,d.init(e)})},t.prototype.onDestroy=function(){console.log("hagologgame onDestroy"),a.default.off("updateWallet"),a.default.off("gameReload"),a.default.off("commonActive"),a.default.off("commonToast"),a.default.off("commonConfirm"),a.default.off("broadcastDataOnReceive"),a.default.off("closeOthers"),a.default.off("openOthers"),a.default.off("showAwardWindow"),a.default.off("walletAddAnimation")},__decorate([g({type:cc.Node})],t.prototype,"myWallet",void 0),__decorate([g({type:cc.Node})],t.prototype,"commonToast",void 0),__decorate([g({type:cc.Node})],t.prototype,"commonConfirm",void 0),__decorate([g({type:cc.Node})],t.prototype,"topBar",void 0),__decorate([g({type:cc.Node})],t.prototype,"bottomBar",void 0),__decorate([g({type:cc.Node})],t.prototype,"debugBar",void 0),__decorate([g({type:cc.Node})],t.prototype,"giftBt",void 0),__decorate([g({type:cc.Node})],t.prototype,"giftPackageBlock",void 0),__decorate([g({type:cc.Node})],t.prototype,"giftContent",void 0),__decorate([g({type:cc.Node})],t.prototype,"giftRestTime",void 0),__decorate([g({type:cc.Node})],t.prototype,"diamondIcon",void 0),__decorate([g({type:cc.Camera})],t.prototype,"uiCamera",void 0),__decorate([g({type:cc.Node})],t.prototype,"bet",void 0),__decorate([g({type:cc.Label})],t.prototype,"title",void 0),__decorate([g({type:cc.Node})],t.prototype,"othersWindow_help",void 0),__decorate([g({type:cc.Node})],t.prototype,"othersWindow_history",void 0),__decorate([g({type:cc.Node})],t.prototype,"awardWindow",void 0),t=__decorate([p],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../assets/script/config":"config","./lib/app/appindex":"appindex","./lib/eventbus/instance":"instance","./lib/globalstate/global_state":"global_state","./lib/globalstate/state_ctrl":"state_ctrl","./lib/helper/util":"util","./lib/http/i18n":"i18n",LanguageData:"LanguageData"}],config:[function(e,t,n){"use strict";cc._RF.push(t,"26080C9ZfVDc6u1QI3e+o6H","config"),Object.defineProperty(n,"__esModule",{value:!0}),n.GA_KEY="UA-125027153-3",n.isHamoTV=!0,n.efoxMultiLangHost="//multi-lang-api.yy.com/multiLangBig/horse_race/",n.getUserPropCount="/1.0/gambling/getUserPropCount",n.getGameRoundInfo="/1.0/gambling/getGameRoundInfo",n.setAutoBet="/1.0/gambling/setAutoBet",n.bet="/1.0/gambling/bet",n.autoBet="/1.0/gambling/autoBet",n.exchangeProp="/1.0/gambling/exchangeProp",n.checkExistFreePackage="/1.0/gambling/checkExistFreePackage",n.receiveFreePackage="/1.0/gambling/receiveFreePackage",n.GAME_STATUS={BETTING:"BETTING",GAME_READY:"GAME_READY",GAME_RUNNING:"GAME_RUNNING",GAME_RESULT_SHOW:"GAME_RESULT_SHOW",GAME_END:"GAME_END"};var o="jlp",i="dubai";n.BUCKET={map:{MY:o,SG:o,ID:o,PH:o,TH:o,BN:o,KH:o,LA:o,MM:o,VN:o,HK:o,MO:o,TW:o},default:i},n.RegExpRemoveHtml=/<[^>]+>/g,cc._RF.pop()},{}],cookie:[function(e,t,n){"use strict";cc._RF.push(t,"30bf3JbQ/NPCK6vkhKa346E","cookie"),Object.defineProperty(n,"__esModule",{value:!0});var o=decodeURIComponent,i=encodeURIComponent,a=/; */,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}n.default={parse:function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},r=e.split(a),c=i.decode||o,u=0;u<r.length;u++){var l=r[u],d=l.indexOf("=");if(!(d<0)){var f=l.substr(0,d).trim(),p=l.substr(++d,l.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),void 0==n[f]&&(n[f]=s(p,c))}}return n},serialize:function(e,t,n){var o=n||{},a=o.encode||i;if("function"!=typeof a)throw new TypeError("option encode is invalid");if(!r.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!r.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(u)}if(o.domain){if(!r.test(o.domain))throw new TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!r.test(o.path))throw new TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return c}},cc._RF.pop()},{}],date:[function(e,t,n){"use strict";cc._RF.push(t,"8311bP9+VNAwJSeVO7i4+LM","date"),Object.defineProperty(n,"__esModule",{value:!0}),n.format=function(e,t){void 0===t&&(t="yyyy-MM-dd hh:mm:ss");var n=new Date(e),o={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return t},cc._RF.pop()},{}],debugdata:[function(e,t,n){"use strict";cc._RF.push(t,"3cc48Lnbh1J66GSCUcYRwCo","debugdata"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./global_state");n.default=function(){o.default={updateTimeStamp:1553609479989,userBetInfos:[{betObjId:1,betAmount:3e3,winAmount:60400},{betObjId:3,betAmount:2e3,winAmount:93500},{betObjId:6,betAmount:600,winAmount:1e4}],gameRoundInfo:{gameId:1,gameRoundId:0x4192ead65402000,gameRoundIdStr:"295318572832399360",timestamp:1553609474640,gameStatus:"GAME_RUNNING",statusInfoList:[{timestamp:1553609449504,gameStatus:"BETTING"},{timestamp:1553609469504,gameStatus:"GAME_READY"},{timestamp:1553609473504,gameStatus:"GAME_RUNNING"},{timestamp:1553609483504,gameStatus:"GAME_RESULT_SHOW"},{timestamp:1553609488504,gameStatus:"GAME_END"}],gameBetInfoList:[{betObjId:1,betAmount:0,betUserCount:0,odds:13,rank:1},{betObjId:2,betAmount:0,betUserCount:0,odds:0,rank:5},{betObjId:3,betAmount:0,betUserCount:0,odds:0,rank:2},{betObjId:4,betAmount:0,betUserCount:0,odds:0,rank:3},{betObjId:5,betAmount:0,betUserCount:0,odds:0,rank:4},{betObjId:6,betAmount:0,betUserCount:0,odds:0,rank:6}],lastUpdateTime:1553609469522},propCount:0,isAutoBet:!1}},cc._RF.pop()},{"./global_state":"global_state"}],debug:[function(e,t,n){"use strict";cc._RF.push(t,"a1b63xd7eJJP4tUXRUkYwlV","debug"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showText=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){this.showText.getComponent(cc.Label).string=window.location.search},__decorate([a({type:cc.Node})],t.prototype,"showText",void 0),t=__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],exchange_scene:[function(e,t,n){"use strict";cc._RF.push(t,"2b0daFTr0dL/YiURcRzJflN","exchange_scene"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./config"),i=e("./lib/http/gameAxios"),a=e("./fabs/header"),r=e("./lib/app/yycore/jump"),s=e("./lib/helper/util"),c=e("./lib/eventbus/instance"),u=e("LanguageData"),l=cc._decorator,d=l.ccclass,f=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.header_prefab=null,t.radio=null,t.exchangeWrap=null,t}return __extends(t,e),t.prototype.back=function(){c.default.emit("closeOthers")},t.prototype.check=function(e){cc.log(e)},t.prototype.exchangeProp=function(){return i.default.get(""+o.exchangeProp,{params:{count:[1,10,100,1e3][this.getSelectedIndex()]}}).then(function(e){if(console.log("hagologgame after exchangeProp",e),0===e.code)s.commonToast(u.t("exchange_success")),c.default.emit("updateWallet");else if(1===e.code){if(s.isAndroid)s.commonConfirm(u.t("exchange_insufficient_balance_text"),function(){r.default.wallet(function(e){console.log("\u94b1\u5305\u8fd4\u56de",e)})});else window.confirm(u.t("exchange_insufficient_balance_text"))&&r.default.wallet(function(e){console.log("\u94b1\u5305\u8fd4\u56de",e)})}else s.commonToast(u.t("exchange_fail"))})},t.prototype.getSelectedIndex=function(){for(var e=0;e<this.radio.toggleItems.length;e++)if(this.radio.toggleItems[e].isChecked)return cc.log(e),e},t.prototype.start=function(){console.log("hagologgame \u6d4b\u8bd5\u6f5c\u9f99\u53d1\u5e03\uff0c\u6d4b\u8bd5\u6f5c\u9f99\u53d1\u5e03\uff0c\u6d4b\u8bd5\u6f5c\u9f99\u53d1\u5e03\uff0c\u6d4b\u8bd5\u6f5c\u9f99\u53d1\u5e03");var e=cc.instantiate(this.header_prefab);this.node.addChild(e),e.getComponent(a.default).label.string=u.t("exchange_title"),console.log("hagologgame exchange scene",this.node)},t.prototype.ExchangeWrapClick=function(e){e.stopPropagation()},__decorate([f(cc.Prefab)],t.prototype,"header_prefab",void 0),__decorate([f(cc.ToggleContainer)],t.prototype,"radio",void 0),__decorate([f({type:cc.Node})],t.prototype,"exchangeWrap",void 0),t=__decorate([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./config":"config","./fabs/header":"header","./lib/app/yycore/jump":"jump","./lib/eventbus/instance":"instance","./lib/helper/util":"util","./lib/http/gameAxios":"gameAxios",LanguageData:"LanguageData"}],forage_list_item:[function(e,t,n){"use strict";cc._RF.push(t,"29aa5Ky3gBAhZO2lKA9AHyu","forage_list_item"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.opt_name=null,t.game=null,t.balance=null,t.date=null,t.num=null,t.border=null,t}return __extends(t,e),t.prototype.start=function(){},__decorate([a({type:cc.Label})],t.prototype,"opt_name",void 0),__decorate([a({type:cc.Label})],t.prototype,"game",void 0),__decorate([a({type:cc.Label})],t.prototype,"balance",void 0),__decorate([a({type:cc.Label})],t.prototype,"date",void 0),__decorate([a({type:cc.Label})],t.prototype,"num",void 0),__decorate([a({type:cc.Sprite})],t.prototype,"border",void 0),t=__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],forage_scene:[function(e,t,n){"use strict";cc._RF.push(t,"13d53nyE5ZKTpFxdtrzSfqr","forage_scene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./fabs/header"),c=e("./fabs/forage_list_item"),u=e("./lib/http/gameAxios"),l=e("./lib/helper/date"),d=e("./lib/eventbus/instance"),f=e("LanguageData"),p=cc._decorator,g=p.ccclass,h=p.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.header_prefab=null,t.forage_list_item_prefab=null,t.select=null,t.list_node=null,t.list_empty=null,t.selectType=0,t.isChange=!1,t}return o(t,e),t.prototype.getForageList=function(e){return void 0===e&&(e=0),a(this,void 0,void 0,function(){var t,n,o;return r(this,function(i){switch(i.label){case 0:return t=[],[4,u.default.get("/1.0/gambling/getGamblingUserTurnoverPropHistory",{params:{type:e||""}})];case 1:if(0===(n=i.sent()).code)for(o in n.data.userTurnoverPropHistory)t=t.concat(n.data.userTurnoverPropHistory[o]);return this.list_empty.active=0===t.length,[2,t]}})})},t.prototype.onSelect=function(e,t){if(void 0===t&&(t=0),this.selectType===t)return!1;this.isChange=!0,this.selectType=t,this.btnList.forEach(function(e){e.getChildByName("background_active").active=!1,e.getChildByName("background").active=!0}),this.btnList[t].getChildByName("background_active").active=!0,this.btnList[t].getChildByName("background").active=!1},t.prototype.onSelectFinish=function(){return a(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return!1===this.select.active?[2]:(this.select.active=!1,this.isChange?(this.isChange=!1,this.list_node.removeAllChildren(),[4,this.getForageList(this.selectType)]):[2]);case 1:return e=t.sent(),console.log("hagologgame list",e),this.generateList(e),[2]}})})},t.prototype.generateList=function(e){var t=this;void 0===e&&(e=[]),this.list_node.removeAllChildren(),e.forEach(function(e,n){var o=cc.instantiate(t.forage_list_item_prefab),i=o.getComponent(c.default);i.opt_name.string=f.t("forage_opt_name_"+e.type),i.game.string=e.desc?"("+f.t(e.desc)+")":"",i.balance.string=e.leftAmount,i.date.string=l.format(new Date(e.insertTime)),i.num.string=(1===e.type?"-":"+")+e.amount,i.num.node.color=1===e.type?new cc.Color(255,255,255):new cc.Color(255,229,129),t.list_node.addChild(o)})},t.prototype.start=function(){var e=this;console.log("hagologgame forage start");var t=cc.instantiate(this.header_prefab),n=t.getComponent(s.default);n.label.string=f.t("forage_title"),n.right.node.active=!0,n.onRightClick=function(){console.log("hagologgame forage_scene\u89e6\u53d1"),e.select.active=!0},this.node.addChild(t),cc.find("Common/others/forage/history/select/options")&&(this.btnList=cc.find("Common/others/forage/history/select/options").children,this.btnList[0].getChildByName("background_active").active=!0,this.btnList[0].getChildByName("background").active=!1),this._onEnable(),d.default.on("loadOtherScence",function(t){"forage"===t.detail.scenceName&&e._onEnable()})},t.prototype._onEnable=function(){return a(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return[4,this.getForageList()];case 1:return e=t.sent(),this.generateList(e),console.log("hagologgame \u7cae\u8349list",e),[2]}})})},t.prototype.onDestroy=function(){d.default.off("loadOtherScence")},i([h({type:cc.Prefab})],t.prototype,"header_prefab",void 0),i([h({type:cc.Prefab})],t.prototype,"forage_list_item_prefab",void 0),i([h({type:cc.Node})],t.prototype,"select",void 0),i([h({type:cc.Node})],t.prototype,"list_node",void 0),i([h({type:cc.Node})],t.prototype,"list_empty",void 0),t=i([g],t)}(cc.Component);n.default=m,cc._RF.pop()},{"./fabs/forage_list_item":"forage_list_item","./fabs/header":"header","./lib/eventbus/instance":"instance","./lib/helper/date":"date","./lib/http/gameAxios":"gameAxios",LanguageData:"LanguageData"}],gameAxios:[function(e,t,n){"use strict";cc._RF.push(t,"d9b0ac0dH5CULfr7/JfhELE","gameAxios");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this;Object.defineProperty(n,"__esModule",{value:!0});var r=e("../axios/dist/axios"),s=e("../../config"),c=e("../app/appindex"),u=e("../helper/util"),l=e("../eventbus/instance"),d=e("../globalstate/global_state"),f=e("LanguageData"),p=r.default.create({withCredentials:!0,headers:{language:u.getLanguage()}}),g=null,h=null;p.changeBaseURL=function(e){var t=s.BUCKET.map[e]||s.BUCKET.default;p.defaults.baseURL="//"+t+"-"+d.default.baseClientInfo.gameApiHost,p.defaults.headers.country=e,console.log("hagologgame changeBaseURL "+p.defaults.baseURL+" "+e)},p.interceptors.request.use(function(e){return o(a,void 0,void 0,function(){var t,n,a,r=this;return i(this,function(s){switch(s.label){case 0:return console.log("hagologgame before gamerequest "+JSON.stringify(e)),c.default.isApp()?[4,c.default.networkStatus()]:[3,2];case 1:t=s.sent(),console.log("hagologgame networkStatus "+(0===Number(t))+" oo "+t),0===Number(t)&&(u.commonToast(f.t("network_error"),3),clearInterval(h),h=setInterval(function(){return o(r,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,c.default.networkStatus()];case 1:return e=t.sent(),Number(e)&&(l.default.emit("gameReload"),clearInterval(h)),[2]}})})},3e3)),console.log("hagologgame a",JSON.stringify(e.params)),clearTimeout(g),g=setTimeout(function(){u.commonToast(f.t("network_error"),3)},15e3),s.label=2;case 2:return console.log("hagologgame b",JSON.stringify(e.params)),e.params||(e.params={}),console.log("hagologgame c before get ticket",JSON.stringify(e.params)),n=e.params,c.default.isApp()?[4,c.default.webTicket()]:[3,4];case 3:return a=s.sent(),[3,5];case 4:a="",s.label=5;case 5:return n.ticket=a,e.params.gameId=d.default.baseClientInfo.gameId,e.params.sid=d.default.baseClientInfo.sid,e.params.uid=d.default.baseClientInfo.uid,e.params.country=d.default.baseClientInfo.country,e.params.hdid=d.default.baseClientInfo.hdid,console.log("hagologgame d after get ticket",JSON.stringify(e.params)),[2,e]}})})},function(e){return Promise.reject(e)}),p.interceptors.response.use(function(e){return console.log("hagologgame after gamerequest "+JSON.stringify(e.data)),clearTimeout(g),clearInterval(h),e.data},function(e){return Promise.reject(e)}),n.default=p,cc._RF.pop()},{"../../config":"config","../app/appindex":"appindex","../axios/dist/axios":"axios","../eventbus/instance":"instance","../globalstate/global_state":"global_state","../helper/util":"util",LanguageData:"LanguageData"}],global_state:[function(e,t,n){"use strict";cc._RF.push(t,"28d1djPXOhNEa50Cagc3ZRH","global_state"),Object.defineProperty(n,"__esModule",{value:!0});n.default={useLanguage:["en","zh","ar","vi","zh-hk","zh-tw"],i18nReady:!1,updateTimeStamp:0,gameRoundInfo:{},nextGameRoundInfo:{},userBetInfos:[],propCount:0,isAutoBet:!1,myUid:0,isGameExist:!1,curSelectCost:0,baseClientInfo:{gameId:"",sid:"",uid:"0",country:"",hdid:"",hadSet:!1},giftMessage:{leftHours:0},gameVersion:"0.2.0"},cc._RF.pop()},{}],hago_api:[function(e,t,n){"use strict";cc._RF.push(t,"91310UXWjdPvrI4O69dnJPu","hago_api"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("../../eventbus/instance"),a=e("./sendMessage"),r=e("./receiveMessage"),s=1e3,c=5e3;console.log("hagolog4 sendMessage --@print@--",JSON.stringify(a.default)),r.default(),console.log("sendMessage",a.default),o={};var u=function(e){o[e.replace("Send","")]=function(t,n){return function(e,t,n){var o=String(++s),a=String(++s);return i.default.once("hago"+a,function(e){n(e)}),console.log("hagolog4 _commonListen cb "+e+" oo "+a+" oo "+t),new Promise(function(n,r){e||(console.log("hagolog4 sendFunction not found"),r({msg:"fun not found",data:{receiveTraceId:o}}));var s=setTimeout(function(){clearTimeout(s),r({msg:"timeout",data:{receiveTraceId:o}})},c);i.default.once("hago"+o,function(e){clearTimeout(s),n(e)}),console.log("hagolog4 _commonListen rc "+e+" oo "+o+" oo "+t),e(o,a,t)})}(a.default[e],t,n)}};for(var l in a.default)u(l);n.default=o,cc._RF.pop()},{"../../eventbus/instance":"instance","./receiveMessage":"receiveMessage","./sendMessage":"sendMessage"}],hagocoreindex:[function(e,t,n){"use strict";cc._RF.push(t,"8877brK25FMZJAfqe6rPfgz","hagocoreindex"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./hago_api");function i(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return[4,o.default.isLogined()];case 1:return e=n.sent(),console.log("hagologgame checkLogin "+JSON.stringify(e)),e.detail?[2,!0]:[3,2];case 2:return[4,o.default.showLoginDialogWithCallback({},function(e){console.log("hagologgame showLoginDialogWithCallback in "+JSON.stringify(e))})];case 3:return t=n.sent(),console.log("hagologgame showLoginDialogWithCallback out "+JSON.stringify(t)),[2,!0]}})})}function a(){return!!window.yyrt}function r(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,o.default.myUid()];case 1:return[2,e.sent().detail]}})})}function s(e){return o.default.subscribeGame(e)}function c(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){return[2,new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(n){switch(n.label){case 0:return[4,o.default.networkStatus({},function(e){e.detail&&t(e.detail)})];case 1:return(e=n.sent()).detail&&t(e.detail),[2]}})})})]})})}function u(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,o.default.getWebTicket()];case 1:return[2,e.sent().detail]}})})}function l(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,o.default.getGameId()];case 1:return[2,e.sent().detail]}})})}function d(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,o.default.getChannelId()];case 1:return[2,e.sent().detail]}})})}function f(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,o.default.hdid()];case 1:return[2,e.sent().detail]}})})}function p(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,o.default.getEnvironmentStatus()];case 1:return e=t.sent(),[2,0===Number(e.detail)]}})})}function g(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,o.default.getCountryCode({},function(e){if(console.log("hagologgame getCountryCode inside "+JSON.stringify(e)),e.detail)return e.detail})];case 1:return e=t.sent(),console.log("hagologgame getCountryCode outside "+JSON.stringify(e)),e.detail?[2,e.detail]:[2]}})})}function h(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,o.default.showWallet()]})})}n.checkLogin=i,n.isApp=a,n.getUid=r,n.subscribeGame=s,n.networkStatus=c,n.webTicket=u,n.getGameId=l,n.getSid=d,n.hdid=f,n.getEnvironmentStatus=p,n.getCountryCode=g,n.showWallet=h,n.default={checkLogin:i,isApp:a,getUid:r,subscribeGame:s,networkStatus:c,webTicket:u,getGameId:l,getSid:d,getCountryCode:g,hdid:f,getEnvironmentStatus:p,showWallet:h},cc._RF.pop()},{"./hago_api":"hago_api"}],header:[function(e,t,n){"use strict";cc._RF.push(t,"d2f37pNBmdBG54n1IGMTv8v","header");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../lib/eventbus/instance"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.right=null,t}return o(t,e),t.prototype.onBack=function(){a.default.emit("closeOthers")},t.prototype.onRightClick=function(){console.log("hagologgame header \u89e6\u53d1")},t.prototype.onLoad=function(){},t.prototype.start=function(){},i([c({type:cc.Label})],t.prototype,"label",void 0),i([c({type:cc.Button})],t.prototype,"right",void 0),t=i([s],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../lib/eventbus/instance":"instance"}],help_scene:[function(e,t,n){"use strict";cc._RF.push(t,"7c286EKyCdFToASenFJZDqv","help_scene"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./fabs/header"),i=e("./lib/eventbus/instance"),a=e("./lib/globalstate/global_state"),r=e("LanguageData"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.header_prefab=null,t.version_message=null,t}return __extends(t,e),t.prototype.rank=function(){i.default.emit("closeOthers"),i.default.emit("openOthers",{pagename:"rank"})},t.prototype.exchange=function(){i.default.emit("closeOthers"),i.default.emit("openOthers",{pagename:"exchange"})},t.prototype.start=function(){console.log("help_scene start");var e=cc.instantiate(this.header_prefab);this.node.addChild(e),e.getComponent(o.default).label.string=r.t("help_title"),this._setVersionMessage()},t.prototype._setVersionMessage=function(){this.version_message.getComponent(cc.Label).string=a.default.gameVersion+"_"+a.default.baseClientInfo.country+"_"+a.default.baseClientInfo.gameId},t.prototype.wrapClick=function(e){e.stopPropagation()},__decorate([u({type:cc.Prefab})],t.prototype,"header_prefab",void 0),__decorate([u({type:cc.Node})],t.prototype,"version_message",void 0),t=__decorate([c],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./fabs/header":"header","./lib/eventbus/instance":"instance","./lib/globalstate/global_state":"global_state",LanguageData:"LanguageData"}],history_scene:[function(e,t,n){"use strict";cc._RF.push(t,"3cd85oyzxRCuJpzVrzxBp36","history_scene"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./fabs/header"),i=e("./fabs/history_table_tr"),a=e("./lib/http/gameAxios"),r=e("./lib/helper/date"),s=e("./lib/eventbus/instance"),c=e("LanguageData"),u=cc._decorator,l=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.header_prefab=null,t.history_table_tr_prefab=null,t.no1=null,t.no2=null,t.no3=null,t.no4=null,t.no5=null,t.no6=null,t.detail=null,t}return __extends(t,e),t.prototype.getGeneralList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,a.default.get("/1.0/gambling/getBetObjWinHistory")];case 1:return[2,e.sent().data.betObjWinHistory]}})})},t.prototype.getDetailList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,a.default.get("/1.0/gambling/getGameWinHistory",{params:{offset:0,count:100}})];case 1:return[2,e.sent().data.gameWinHistory]}})})},t.prototype.start=function(){var e=this,t=cc.instantiate(this.header_prefab);this.node.addChild(t),t.getComponent(o.default).label.string=c.t("history_title"),this._onEnable(),s.default.on("loadOtherScence",function(t){"history"===t.detail.scenceName&&e._onEnable()})},t.prototype._onEnable=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){return console.log("history scene onEnable"),this.detail.node.removeAllChildren(),Promise.all([this.getGeneralList(),this.getDetailList()]).then(function(t){var n=t[0],o=t[1];n.forEach(function(t,n){e["no"+t.betObjId].string=t.winCount}),o.forEach(function(t){var n=cc.instantiate(e.history_table_tr_prefab),o=n.getComponent(i.default);o.time.string=r.format(t.time),o.win.string=t.betObjId,o.odds.string=t.odds,o.num.string=t.betUserCount,e.detail.node.addChild(n)})}),[2]})})},t.prototype.onDisable=function(){console.log("history scene onDisable")},t.prototype.onDestroy=function(){s.default.off("loadOtherScence")},t.prototype.wrapClick=function(e){e.stopPropagation()},__decorate([d({type:cc.Prefab})],t.prototype,"header_prefab",void 0),__decorate([d({type:cc.Prefab})],t.prototype,"history_table_tr_prefab",void 0),__decorate([d({type:cc.Label})],t.prototype,"no1",void 0),__decorate([d({type:cc.Label})],t.prototype,"no2",void 0),__decorate([d({type:cc.Label})],t.prototype,"no3",void 0),__decorate([d({type:cc.Label})],t.prototype,"no4",void 0),__decorate([d({type:cc.Label})],t.prototype,"no5",void 0),__decorate([d({type:cc.Label})],t.prototype,"no6",void 0),__decorate([d({type:cc.Layout})],t.prototype,"detail",void 0),t=__decorate([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./fabs/header":"header","./fabs/history_table_tr":"history_table_tr","./lib/eventbus/instance":"instance","./lib/helper/date":"date","./lib/http/gameAxios":"gameAxios",LanguageData:"LanguageData"}],history_table_tr:[function(e,t,n){"use strict";cc._RF.push(t,"2102fNzrs1LD6rkB3eqWXrq","history_table_tr"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=null,t.win=null,t.odds=null,t.num=null,t}return __extends(t,e),t.prototype.start=function(){},__decorate([a({type:cc.Label})],t.prototype,"time",void 0),__decorate([a({type:cc.Label})],t.prototype,"win",void 0),__decorate([a({type:cc.Label})],t.prototype,"odds",void 0),__decorate([a({type:cc.Label})],t.prototype,"num",void 0),t=__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],http:[function(e,t,n){"use strict";cc._RF.push(t,"542c4OVVnVB+6LRF1afO382","http"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(){function e(){}return e.prototype.xhrGet=function(e,t,n){void 0===n&&(n=!0);var o=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");return new Promise(function(t,i){var a=new XMLHttpRequest;a.open("GET",e+"?"+o,!0),n&&(a.withCredentials=!0),a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)t(JSON.parse(this.responseText));else{var e={code:this.status,response:this.response};i(e)}},a.send()})},e.prototype.xhrPost=function(e,t){return new Promise(function(n,o){var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)n(JSON.parse(this.responseText));else{var e={code:this.status,response:this.response};o(e)}},i.send(JSON.stringify(t))})},e.prototype.fetchGet=function(e,t){var n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");return fetch(e+"?"+n,{cache:"no-cache",headers:{"content-type":"application/json"},method:"GET"}).then(function(e){return console.log("hagologgame after fetchget",e),e.json()})},e.prototype.fetchPost=function(e,t){return fetch(e,{body:JSON.stringify(t),cache:"no-cache",credentials:"include",headers:{"content-type":"application/json"},method:"POST"}).then(function(e){return e.json()})},e=__decorate([i],e)}());n.default=a,cc._RF.pop()},{}],i18n:[function(e,t,n){"use strict";cc._RF.push(t,"e37d8cks1xATbYmq7Ks4pxa","i18n");var o=this;Object.defineProperty(n,"__esModule",{value:!0});var i=e("../axios/dist/axios"),a=e("../../config"),r=i.default.create({baseURL:a.efoxMultiLangHost});r.interceptors.request.use(function(e){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(t){return console.log("hagologgame before i18n "+JSON.stringify(e)),[2,e]})})},function(e){return Promise.reject(e)}),r.interceptors.response.use(function(e){return console.log("hagologgame after i18n "+JSON.stringify(e.data)),e.data},function(e){return Promise.reject(e)}),n.default=r,cc._RF.pop()},{"../../config":"config","../axios/dist/axios":"axios"}],instance:[function(e,t,n){"use strict";cc._RF.push(t,"0df81Vm6h9Awp14Eox8w43m","instance"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.globalNode=new cc.Node,this.eventFuns={},this.onceFuns={}}return e.prototype.EventBus=function(e){this.globalNode=e},e.prototype.on=function(e,t){this.eventFuns[e]||(this.eventFuns[e]=[]),this.eventFuns[e].push(t),this.globalNode.on(e,this.eventFuns[e][this.eventFuns[e].length-1])},e.prototype.once=function(e,t){this.onceFuns[e]||(this.onceFuns[e]=[]),this.onceFuns[e].push(t),console.log("hagologgame eventbus once "+e),this.globalNode.on(e,this.onceFuns[e][this.onceFuns[e].length-1])},e.prototype.off=function(e){var t=this;this.eventFuns[e]||(this.eventFuns[e]=[]),this.eventFuns[e].forEach(function(n){t.globalNode.off(e,n)})},e.prototype.emit=function(e,t){this.globalNode.emit(e,{detail:t}),console.log("hagologgame eventbus delete "+e),delete this.onceFuns[e]},e}();n.default=new o,cc._RF.pop()},{}],jump:[function(e,t,n){"use strict";cc._RF.push(t,"97514EfYKhNPqbnjZjUp+gQ","jump"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../brower"),i={iosLink:"https://ios.hamo.tv",common:"hamo://com.incubation.video",extra:""},a="https://itunes.apple.com/app/id1436026931",r="https://play.google.com/store/apps/details?id=com.gokoo.hamo",s=!1,c=null;function u(){var e=window.navigator.userAgent.toLowerCase();return!!/hamo/i.test(e)}function l(){if(!(s||c||o.isIphone())){var e=Date.now();s=!0,c=setTimeout(function(){s=!1,c=null,console.log(Date.now()-e),Date.now()-e<3050&&(console.log("timeline",Date.now()-e),window.location.href=r)},3e3)}}function d(e){void 0===e&&(e={});var t=(i=i=__assign({},i,e)).iosLink,n=i.common,s=i.extra;u()?window.YYApiCore.invokeClientMethod("ui","goto",{uri:n}):(o.isWeixin()?window.location.href=o.isIphone()?a:r:(window.location.href=o.isIphone()?t:s||n,console.log("iosLink",t)),l())}n.default={liveRoom:function(e,t,n){void 0===n&&(n=1),i=__assign({},i,{iosLink:"https://ios.hamo.tv/liveroom/detail?sid="+t+"&uid="+e+"&liveType="+n+"&from=h5",common:"hamo://liveroom/detail?sid="+t+"&uid="+e+"&liveType="+n+"&from=h5"}),d()},voiceRoom:function(e){i=__assign({},i,{iosLink:"https://ios.hamo.tv/voiceroom/detail?sid="+e+"&from=h5",common:"hamo://voiceroom/detail?sid="+e+"&from=h5"}),d()},h5:function(e,t){i=__assign({},i,{iosLink:"https://ios.hamo.tv/web?feature=5&url="+encodeURIComponent(e),common:"hamo://Web/Features/5/Url/"+encodeURIComponent(e),extra:t||""}),d()},webview:function(e){u()?window.YYApiCore.invokeClientMethod("ui","goto",{uri:"hamo://web/h5?url="+encodeURIComponent(e)}):window.location.href=e},wallet:function(e){return void 0===e&&(e=function(){}),window.YYApiCore.invokeClientMethod("ui","showWallet",{},e)},app:d,setAppLink:function(e){i=__assign({},i,e)},isApp:u(),download:l,AppStore:a,yyb:r},cc._RF.pop()},{"../../brower":"brower"}],main_scene:[function(e,t,n){"use strict";cc._RF.push(t,"7506ey9p9FEAr9icVJx58Bn","main_scene"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./config"),i=e("./lib/globalstate/global_state"),a=e("./lib/globalstate/state_ctrl"),r=e("./lib/eventbus/instance"),s=e("./lib/helper/util"),c=e("./lib/http/gameAxios");console.log("hagologgame main script");var u=e("LanguageData"),l=cc._decorator,d=l.ccclass,f=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.top=null,t.bottom=null,t.common_node=null,t}return __extends(t,e),t.prototype.onLoad=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return console.log("hagologgame main onload "+this.common_node.active),this.top.active=!1,this.bottom.active=!1,i.default.baseClientInfo.hadSet?[3,2]:[4,a.default.setBaseGameInfo()];case 1:t.sent(),t.label=2;case 2:return c.default.changeBaseURL(i.default.baseClientInfo.country),[4,a.default.getGameRoundInfo(!1)];case 3:return t.sent(),this._gameInit(),r.default.emit("updateWallet"),r.default.on("updateGameRound",function(t){a.default.setGameRoundInfo(t.detail),e._gameInit()}),r.default.on("i18nReady",function(){e._gameInit()}),[2]}})})},t.prototype.onDestroy=function(){r.default.off("updateGameRound"),r.default.off("i18nReady")},t.prototype.start=function(){},t.prototype._gameInit=function(){if(i.default.i18nReady)if(console.log("hagologgame GlobalState",i.default),i.default.isGameExist){var e=i.default.gameRoundInfo.gameStatus;console.log("hagologgame game status ----",e),console.log.apply(console,["hagologgame i18n track main"].concat(u)),e===o.GAME_STATUS.BETTING?cc.director.loadScene("bet"):e&&e!=o.GAME_STATUS.GAME_END&&cc.director.loadScene("running")}else s.commonToast(u.t("gamestate_maintenance"),120);else console.log("hagologgame _gameInit i18n not ready")},__decorate([f({type:cc.Node})],t.prototype,"top",void 0),__decorate([f({type:cc.Node})],t.prototype,"bottom",void 0),__decorate([f({type:cc.Node})],t.prototype,"common_node",void 0),t=__decorate([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./config":"config","./lib/eventbus/instance":"instance","./lib/globalstate/global_state":"global_state","./lib/globalstate/state_ctrl":"state_ctrl","./lib/helper/util":"util","./lib/http/gameAxios":"gameAxios",LanguageData:"LanguageData"}],media:[function(e,t,n){"use strict";cc._RF.push(t,"54698MBoDlLLbJHt1e88UK7","media"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={file:function(e){return window.lighten?window.lighten.shouldOverrideMediaUrl(e):e}},cc._RF.pop()},{}],member:[function(e,t,n){"use strict";cc._RF.push(t,"f47c2zYHV9BjbofvhOSinpX","member"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../v"),i=e("./YYApiCore");n.default={smsLogin:function(){return i.default.invokeClientMethod("ui","showSMSLoginView")},windowLogin:function(){return i.default.invokeClientMethod("ui","showLoginView")},appVersion:function(){return new Promise(function(e){return i.default.invokeClientMethod("device","appVersion",{},e)})},login:function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.appVersion()];case 1:return e=t.sent(),o.VersionCompare(e,"1.5.0")?[4,this.smsLogin()]:[3,3];case 2:return t.sent(),[3,5];case 3:return[4,this.windowLogin()];case 4:t.sent(),t.label=5;case 5:return[2]}})})}},cc._RF.pop()},{"../../v":"v","./YYApiCore":"YYApiCore"}],mock:[function(e,t,n){"use strict";cc._RF.push(t,"8f820XwOClP9K6jRoG4zWDp","mock"),Object.defineProperty(n,"__esModule",{value:!0}),n.mockGameRoundInfo=function(){return new Promise(function(e){e(JSON.parse('{"code":0,"message":"Successful","data":{"gameRoundInfo":{"gameId":3,"gameType":0,"gameRoundId":304925847423303680,"gameRoundIdStr":"304925847423303680","timestamp":1555900022659,"gameStatus":"BETTING","statusInfoList":[{"timestamp":1555900002261,"gameStatus":"BETTING"},{"timestamp":1555900022261,"gameStatus":"GAME_READY"},{"timestamp":1555900026261,"gameStatus":"GAME_RUNNING"},{"timestamp":1555900036261,"gameStatus":"GAME_RESULT_SHOW"},{"timestamp":1555900041261,"gameStatus":"GAME_END"}],"gameBetInfoList":[{"betObjId":1,"betAmount":130,"betUserCount":5,"odds":4.5,"rank":4},{"betObjId":2,"betAmount":200,"betUserCount":7,"odds":4.5,"rank":1},{"betObjId":3,"betAmount":350,"betUserCount":7,"odds":4.5,"rank":3},{"betObjId":4,"betAmount":450,"betUserCount":10,"odds":5.5,"rank":5},{"betObjId":5,"betAmount":330,"betUserCount":7,"odds":5.5,"rank":6},{"betObjId":6,"betAmount":580,"betUserCount":10,"odds":9.0,"rank":2}],"lastUpdateTime":1555900022288},"userBetInfos":[],"isAutoBet":false,"isGameExist":true}}'))})},n.mockUserPropCount=function(){return new Promise(function(e){e(JSON.parse('{"code":0,"message":"Successful","data":{"propCount":784}}'))})},cc._RF.pop()},{}],module_data:[function(e,t,n){"use strict";cc._RF.push(t,"4ac40kA8EhHg6SV+bWzxWOg","module_data"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./sendMessage"),i="data";function a(e,t,n){console.log("hagolog4 myUid before sendMessage 2"),o.sendMessage(i,"myUid",n,e,t)}function r(e,t,n){o.sendMessage(i,"isLogined",n,e,t)}function s(e,t,n){o.sendMessage(i,"getUserInfo",n,e,t)}function c(e,t,n){o.sendMessage(i,"webTicket",n,e,t)}function u(e,t,n){o.sendMessage(i,"webViewLog",n,e,t)}n.myUidSend=a,n.isLoginedSend=r,n.getUserInfoSend=s,n.getWebTicketSend=c,n.webViewLogSend=u,n.default={myUidSend:a,isLoginedSend:r,getUserInfoSend:s,getWebTicketSend:c,webViewLogSend:u},cc._RF.pop()},{"./sendMessage":"sendMessage"}],module_device:[function(e,t,n){"use strict";cc._RF.push(t,"ee397xPPY5PbKzxD6fT4e8q","module_device"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./sendMessage"),i="device";function a(e,t,n){o.sendMessage(i,"networkStatus",n,e,t)}function r(e,t,n){o.sendMessage(i,"hdid",n,e,t)}function s(e,t,n){o.sendMessage(i,"deviceInfo",n,e,t)}function c(e,t,n){o.sendMessage(i,"getCountryCode",n,e,t)}function u(e,t,n){o.sendMessage(i,"getLanguage",n,e,t)}function l(e,t,n){o.sendMessage(i,"getEnvironmentStatus",n,e,t)}n.networkStatusSend=a,n.hdidSend=r,n.deviceInfoSend=s,n.getCountryCodeSend=c,n.getLanguageSend=u,n.getEnvironmentStatusSend=l,n.default={networkStatusSend:a,hdidSend:r,deviceInfoSend:s,getCountryCodeSend:c,getLanguageSend:u,getEnvironmentStatusSend:l},cc._RF.pop()},{"./sendMessage":"sendMessage"}],module_game:[function(e,t,n){"use strict";cc._RF.push(t,"b03f4jxErdKWpWQQuPZ0sog","module_game"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./sendMessage"),i="game";function a(e,t,n){o.sendMessage(i,"subscribeGame",n,e,t)}function r(e,t,n){o.sendMessage(i,"unsubscribeGame",n,e,t)}function s(e,t,n){o.sendMessage(i,"getGameId",n,e,t)}function c(e,t,n){o.sendMessage(i,"getExtendInfo",n,e,t)}n.subscribeGameSend=a,n.unsubscribeGameSend=r,n.getGameIdSend=s,n.getExtendInfoSend=c,n.default={subscribeGameSend:a,unsubscribeGameSend:r,getGameIdSend:s,getExtendInfoSend:c},cc._RF.pop()},{"./sendMessage":"sendMessage"}],module_liveroom:[function(e,t,n){"use strict";cc._RF.push(t,"c1e09G6a0BC0aL8aB7XJCJH","module_liveroom"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./sendMessage"),i="liveroom";function a(e,t,n){o.sendMessage(i,"getEntryData",n,e,t)}function r(e,t,n){o.sendMessage(i,"showWindow",n,e,t)}function s(e,t,n){o.sendMessage(i,"closeWindow",n,e,t)}function c(e,t,n){o.sendMessage(i,"getPKData",n,e,t)}function u(e,t,n){o.sendMessage(i,"showPKRank",n,e,t)}function l(e,t,n){o.sendMessage(i,"closePKWebview",n,e,t)}function d(e,t,n){o.sendMessage(i,"getMyRole",n,e,t)}function f(e,t,n){o.sendMessage(i,"getChannelId",n,e,t)}n.getEntryDataSend=a,n.showWindowSend=r,n.closeWindowSend=s,n.getPKDataSend=c,n.showPKRankSend=u,n.closePKWebviewSend=l,n.getMyRoleSend=d,n.getChannelIdSend=f,n.default={getEntryDataSend:a,showWindowSend:r,closeWindowSend:s,getPKDataSend:c,showPKRankSend:u,closePKWebviewSend:l,getMyRoleSend:d,getChannelIdSend:f},cc._RF.pop()},{"./sendMessage":"sendMessage"}],module_ui:[function(e,t,n){"use strict";cc._RF.push(t,"19166/L/2NFzIQIXSNqWf7V","module_ui"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./sendMessage"),i="ui";function a(e,t,n){o.sendMessage(i,"showLoginDialog",n,e,t)}function r(e,t,n){o.sendMessage(i,"openCameraOrAlbum",n,e,t)}function s(e,t,n){o.sendMessage(i,"setNavigationBar",n,e,t)}function c(e,t,n){o.sendMessage(i,"popViewController",n,e,t)}function u(e,t,n){o.sendMessage(i,"setPullRefreshEnable",n,e,t)}function l(e,t,n){o.sendMessage(i,"goto",n,e,t)}function d(e,t,n){o.sendMessage(i,"showProgressWindow",n,e,t)}function f(e,t,n){o.sendMessage(i,"showShareDialog",n,e,t)}function p(e,t,n){o.sendMessage(i,"showPay",n,e,t)}function g(e,t,n){o.sendMessage(i,"showWallet",n,e,t)}function h(e,t,n){o.sendMessage(i,"showLoginDialogWithCallback",n,e,t)}function m(e,t,n){o.sendMessage(i,"onOsBindMobileSuccess",n,e,t)}function _(e,t,n){o.sendMessage(i,"toast",n,e,t)}function b(e,t,n){o.sendMessage(i,"showCharge",n,e,t)}function y(e,t,n){o.sendMessage(i,"liveroomSendGift",n,e,t)}function v(e,t,n){o.sendMessage(i,"liveroomShowShare",n,e,t)}function w(e,t,n){o.sendMessage(i,"showConfirmDialog",n,e,t)}n.showLoginDialogSend=a,n.openCameraOrAlbumSend=r,n.setNavigationBarSend=s,n.popViewControllerSend=c,n.setPullRefreshEnableSend=u,n.gotoSend=l,n.showProgressWindowSend=d,n.showShareDialogSend=f,n.showPaySend=p,n.showWalletSend=g,n.showLoginDialogWithCallbackSend=h,n.onOsBindMobileSuccessSend=m,n.toastSend=_,n.showChargeSend=b,n.liveroomSendGiftSend=y,n.liveroomShowShareSend=v,n.showConfirmDialogSend=w,n.default={showLoginDialogSend:a,openCameraOrAlbumSend:r,setNavigationBarSend:s,popViewControllerSend:c,setPullRefreshEnableSend:u,gotoSend:l,showProgressWindowSend:d,showShareDialogSend:f,showPaySend:p,showWalletSend:g,showLoginDialogWithCallbackSend:h,onOsBindMobileSuccessSend:m,toastSend:_,showChargeSend:b,liveroomSendGiftSend:y,liveroomShowShareSend:v,showConfirmDialogSend:w},cc._RF.pop()},{"./sendMessage":"sendMessage"}],"polyglot.min":[function(e,t,n){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,i){"function"==typeof define&&define.amd?define([],function(){return i(e)}):"object"==(void 0===n?"undefined":o(n))?t.exports=i(e):e.Polyglot=i(e)})(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||a}function n(e,t,n){var o,a;return null!=n&&e?o=function(e){return e.replace(/^\s+|\s+$/g,"")}((a=e.split(r))[i(t,n)]||a[0]):o=e,o}function i(e,t){return s[function(e){var t=function(e){var t,n,o,i={};for(t in e)if(e.hasOwnProperty(t))for(o in n=e[t])i[n[o]]=t;return i}(c);return t[e]||t.en}(e)](t)}function a(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var n;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],t&&(i=t+"."+i),"object"==(void 0===n?"undefined":o(n))?this.extend(n,i):this.phrases[i]=n)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var o,i;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?o=this.phrases[e]:"string"==typeof t._?o=t._:this.allowMissing?o=e:(this.warn('Missing translation for key: "'+e+'"'),i=e),"string"==typeof o&&(t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(t),i=function(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}(i=n(o,this.currentLocale,t.smart_count),t)),i},t.prototype.has=function(e){return e in this.phrases};var r="||||",s={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},c={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],rank_item:[function(e,t,n){"use strict";cc._RF.push(t,"5d754fnpHRCeIIQdgsHJ6Zo","rank_item"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rank=null,t.avatar=null,t.nickname=null,t.num=null,t}return __extends(t,e),t.prototype.start=function(){},__decorate([a({type:cc.Label})],t.prototype,"rank",void 0),__decorate([a({type:cc.Sprite})],t.prototype,"avatar",void 0),__decorate([a({type:cc.Label})],t.prototype,"nickname",void 0),__decorate([a({type:cc.Label})],t.prototype,"num",void 0),t=__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],rank_scene:[function(e,t,n){"use strict";cc._RF.push(t,"7dc25FV4FFM8K9vIZqUpPdF","rank_scene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./fabs/header"),c=e("./fabs/rank_item"),u=e("./lib/http/gameAxios"),l=e("./lib/eventbus/instance"),d=e("LanguageData"),f=cc._decorator,p=f.ccclass,g=f.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.header=null,t.header_prefab=null,t.list_item_prefab=null,t.anchor_btn=null,t.user_btn=null,t.prev_btn=null,t.next_btn=null,t.list_node=null,t.award_label=null,t.award_content=null,t.list_label=null,t.time_left=null,t.who=null,t.num=null,t.top_1_medal=null,t.top_2_medal=null,t.top_3_medal=null,t.top_1_award=null,t.top_2_award=null,t.top_3_award=null,t.reward_1=null,t.reward_2=null,t.reward_3=null,t.rank_empty=null,t.list_type="ANCHOR_RANK",t.time_left_second=0,t.is_today_data=!0,t.list_item_nodes=[],t}return o(t,e),t.prototype.onAnchorClick=function(e){var t=this;if("ANCHOR_RANK"===this.list_type)return!1;cc.loader.loadRes("images/rank/anchor_btn_active",function(e,n){t.anchor_btn.normalSprite=new cc.SpriteFrame(t.images[1]),t.user_btn.normalSprite=new cc.SpriteFrame(t.images[2])}),this.is_today_data=!0,this.list_type="ANCHOR_RANK",this.languageDeal(),this.uiDeal(),this.dataDeal()},t.prototype.onUserClick=function(){var e=this;if("USER_RANK"===this.list_type)return!1;cc.loader.loadRes("images/rank/user_btn_active",function(t,n){e.anchor_btn.normalSprite=new cc.SpriteFrame(e.images[0]),e.user_btn.normalSprite=new cc.SpriteFrame(e.images[3])}),this.is_today_data=!0,this.list_type="USER_RANK",this.languageDeal(),this.uiDeal(),this.dataDeal()},t.prototype.onPrevBtnClick=function(){this.is_today_data=!1,this.languageDeal(),this.uiDeal(),this.dataDeal()},t.prototype.onNextBtnClick=function(){this.is_today_data=!0,this.languageDeal(),this.uiDeal(),this.dataDeal()},t.prototype.getAnchorRankRewardCount=function(){return a(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,u.default.get("/1.0/gambling/getGameConfig")];case 1:return[2,e.sent().data.anchorRankRewardCount]}})})},t.prototype.getListData=function(){return a(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return[4,u.default.get("/1.0/gambling/getRankList",{params:{rankType:this.list_type,isPreRank:!this.is_today_data}})];case 1:return e=t.sent(),this.time_left_second=e.data.dayLeftSecondTime,this.unschedule(this.timeReduce),this.schedule(this.timeReduce,1),[2,e.data.rankList]}})})},t.prototype.timeReduce=function(){this.time_left_second--},t.prototype.languageDeal=function(){this.header.getComponent(s.default).label.string=d.t("rank_title"),this.award_label.string=d.t("rank_top_3_award_label").replace("{user_type}","ANCHOR_RANK"===this.list_type?d.t("anchor"):d.t("user")),this.list_label.string=this.is_today_data?d.t("rank_today_list"):d.t("rank_yesterday_list"),this.who.string="ANCHOR_RANK"===this.list_type?d.t("anchor"):d.t("user"),this.num.string="ANCHOR_RANK"===this.list_type?d.t("rank_receive"):d.t("rank_send"),this.rank_empty.string=d.t("rank_empty")},t.prototype.uiDeal=function(){this.time_left.node.active=this.is_today_data,this.prev_btn.node.active=this.is_today_data,this.next_btn.node.active=!this.is_today_data,this.award_content.node.active="ANCHOR_RANK"!==this.list_type,this.top_1_medal.node.active="ANCHOR_RANK"!==this.list_type,this.top_2_medal.node.active="ANCHOR_RANK"!==this.list_type,this.top_3_medal.node.active="ANCHOR_RANK"!==this.list_type,this.top_1_award.node.active="ANCHOR_RANK"===this.list_type,this.top_2_award.node.active="ANCHOR_RANK"===this.list_type,this.top_3_award.node.active="ANCHOR_RANK"===this.list_type},t.prototype.dataDeal=function(){return a(this,void 0,void 0,function(){var e,t=this;return r(this,function(n){switch(n.label){case 0:return this.list_item_nodes.forEach(function(e){t.list_node.removeChild(e)}),[4,this.getListData()];case 1:return e=n.sent(),this.rank_empty.node.active=0===e.length,e.forEach(function(e,n){var o=cc.instantiate(t.list_item_prefab);t.list_item_nodes.push(o);var i=o.getComponent(c.default);i.rank.string=e.rankNum,i.nickname.string=e.nickName?e.nickName.length>10?e.nickName.substring(0,6)+"...":e.nickName:e.uid,i.num.string=e.rankValue,e.avatarUrl?cc.loader.load({url:e.avatarUrl,type:"png"},function(e,t){e?console.log("hagologgame \u9519\u8bef\u7d22\u5f15",n):i.avatar.spriteFrame=new cc.SpriteFrame(t)}):cc.loader.loadRes("images/common/default_avatar",function(e,t){i.avatar.spriteFrame=new cc.SpriteFrame(t)}),t.list_node.addChild(o)}),[2]}})})},t.prototype.start=function(){var e=this;this.header=cc.instantiate(this.header_prefab),this.node.addChild(this.header),this.languageDeal(),this.uiDeal(),this._onEnable(),l.default.on("loadOtherScence",function(t){"rank"===t.detail.scenceName&&e._onEnable()})},t.prototype._onEnable=function(){return a(this,void 0,void 0,function(){var e=this;return r(this,function(t){switch(t.label){case 0:return this.dataDeal(),[4,this.getAnchorRankRewardCount()];case 1:return t.sent().forEach(function(t,n){e["reward_"+(n+1)].string=t}),cc.loader.loadResArray(["images/rank/anchor_btn.png","images/rank/anchor_btn_active.png","images/rank/user_btn.png","images/rank/user_btn_active.png"],function(t,n){e.images=n,e.anchor_btn.normalSprite=new cc.SpriteFrame(e.images[1]),console.log("hagologgame after loadResArray",n,t)}),[2]}})})},t.prototype.update=function(e){var t=function(e){return e<10?"0"+e:""+e},n=Math.floor(this.time_left_second/3600),o=Math.floor(this.time_left_second/60-60*n),i=Math.floor(this.time_left_second-3600*n-60*o);this.time_left.string=d.t("rank_time_left").replace("{time_left}"," "+t(n)+":"+t(o)+":"+t(i)+" ")},t.prototype.onDestroy=function(){l.default.off("loadOtherScence")},i([g({type:cc.Prefab})],t.prototype,"header_prefab",void 0),i([g({type:cc.Prefab})],t.prototype,"list_item_prefab",void 0),i([g({type:cc.Button})],t.prototype,"anchor_btn",void 0),i([g({type:cc.Button})],t.prototype,"user_btn",void 0),i([g({type:cc.Button})],t.prototype,"prev_btn",void 0),i([g({type:cc.Button})],t.prototype,"next_btn",void 0),i([g({type:cc.Node})],t.prototype,"list_node",void 0),i([g({type:cc.Label})],t.prototype,"award_label",void 0),i([g({type:cc.Label})],t.prototype,"award_content",void 0),i([g({type:cc.Label})],t.prototype,"list_label",void 0),i([g({type:cc.Label})],t.prototype,"time_left",void 0),i([g({type:cc.Label})],t.prototype,"who",void 0),i([g({type:cc.Label})],t.prototype,"num",void 0),i([g({type:cc.Sprite})],t.prototype,"top_1_medal",void 0),i([g({type:cc.Sprite})],t.prototype,"top_2_medal",void 0),i([g({type:cc.Sprite})],t.prototype,"top_3_medal",void 0),i([g({type:cc.Layout})],t.prototype,"top_1_award",void 0),i([g({type:cc.Layout})],t.prototype,"top_2_award",void 0),i([g({type:cc.Layout})],t.prototype,"top_3_award",void 0),i([g({type:cc.Label})],t.prototype,"reward_1",void 0),i([g({type:cc.Label})],t.prototype,"reward_2",void 0),i([g({type:cc.Label})],t.prototype,"reward_3",void 0),i([g({type:cc.Label})],t.prototype,"rank_empty",void 0),t=i([p],t)}(cc.Component);n.default=h,cc._RF.pop()},{"./fabs/header":"header","./fabs/rank_item":"rank_item","./lib/eventbus/instance":"instance","./lib/http/gameAxios":"gameAxios",LanguageData:"LanguageData"}],receiveMessage:[function(e,t,n){"use strict";cc._RF.push(t,"3561be+KsZATY2RxDGGwDvx","receiveMessage"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../eventbus/instance");n.default=function(){window.yyrt&&(window.yyrt.onReceiveMessageFromApp=function(e,t,n){var i=t,a=i.receive_trace||i.callback_trace||"";if(console.log("hagologgame onReceiveMessageFromApp traceId:"+a+" <<",JSON.stringify(i)),a&&a.length>0&&i.params){console.log("hagologgame emit hago"+a);try{o.default.emit("hago"+a,JSON.parse(i.params))}catch(e){o.default.emit("hago"+a,String(i.params).replace(/\'/g,"").replace(/\"/g,""))}}else"broadcastData"===i.function_name&&o.default.emit("broadcastDataOnReceive",i.params)})},cc._RF.pop()},{"../../eventbus/instance":"instance"}],running_scene:[function(e,t,n){"use strict";cc._RF.push(t,"411845FpAdGlK/TGYKUNET+","running_scene"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./lib/globalstate/state_ctrl"),i=e("./lib/globalstate/global_state"),a=e("./lib/eventbus/instance"),r=e("./config"),s=(e("./lib/globalstate/debugdata"),e("./lib/helper/util")),c=e("./lib/globalstate/state_ctrl"),u=cc._decorator,l=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.gameReadyBlock=null,t.gameResultBlock=null,t.langan=null,t.raceBg=null,t.raceFloor=null,t.raceLine=null,t.horseWinBlock=null,t.horseWinAsset=[],t.timeoutAnimation=null,t.horseWinCount=null,t.horseWinOdds=null,t.animation_warp=null,t.horseAsset=[],t.langcaoIcon=null,t.horseAnimate=null,t.horseRaceContain=null,t.horseIcon=[],t.raceContain=null,t.horseObj=[],t.horseIconObj=[],t.scoreObj={},t.userBetInfos={},t.currenTime=0,t.endTime=10,t.beginRacePos=-330,t.endRacePos=220,t.iconRaceDistance=t.endRacePos-t.beginRacePos,t.iconRacePerDistance=t.iconRaceDistance/t.endTime,t.beginHorsePos=-750,t.endHorsePos=750,t.horseDistance=t.endHorsePos-t.beginHorsePos,t.horsePerDistance=t.horseDistance/t.endTime,t.IsBeginRunningOnce=!1,t.Bets=[],t.gameSecond=0,t.remainSecond=0,t}return __extends(t,e),t.prototype.onLoad=function(){a.default.emit("commonActive"),this._stepInit(),this._init(),cc.director.preloadScene("bet")},t.prototype.start=function(){},t.prototype.onDestroy=function(){a.default.off("getGameRoundInfo")},t.prototype._init=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return[3,1];case 1:return i.default.gameRoundInfo.gameBetInfoList&&i.default.gameRoundInfo.gameBetInfoList.length>0?[4,o.default.getGameRoundInfo(!1)]:[3,3];case 2:t.sent(),t.label=3;case 3:return this._getCurrenTime(),this._initStartData(),this._initHorse(),this._initHorseIcon(),this._initScoreIcon(),this._setScore(),this._schedule(function(){e._getCurrenTime(),e.GAME_STATE===r.GAME_STATUS.GAME_RUNNING&&e._moveHorseRace(),e._watchCurrentime()}),[2]}})})},t.prototype._getCurrenTime=function(){this.currenTime=i.default.gameRoundInfo.timestamp+((new Date).getTime()-i.default.updateTimeStamp)},t.prototype._initStartData=function(e){var t=this;i.default.gameRoundInfo.statusInfoList&&(0==this.Bets.length?this.Bets=i.default.gameRoundInfo.gameBetInfoList:this.Bets.map(function(e,t){e.rank=i.default.gameRoundInfo.gameBetInfoList[t].rank}),i.default.userBetInfos.map(function(e){e.betObjId&&(t.userBetInfos[e.betObjId]=e)}),this.remainSecond=Math.ceil((i.default.gameRoundInfo.statusInfoList[4].timestamp-this.currenTime)/1e3),e||(this.remainSecond>=15?this.gameSecond=10:this.remainSecond<15&&this.remainSecond>=5?this.gameSecond=this.remainSecond-5:this.gameSecond=0),this.beginTimeToStringArray=i.default.gameRoundInfo.statusInfoList[2].timestamp.toString().split(""))},t.prototype._watchCurrentime=function(){if(i.default.gameRoundInfo.statusInfoList){var e=i.default.gameRoundInfo.statusInfoList,t=this.GAME_STATE;this.currenTime<=e[1].timestamp?this.GAME_STATE=r.GAME_STATUS.BETTING:this.currenTime<=e[2].timestamp?this.GAME_STATE=r.GAME_STATUS.GAME_READY:this.currenTime<=e[3].timestamp?this.GAME_STATE=r.GAME_STATUS.GAME_RUNNING:this.currenTime<=e[4].timestamp?this.GAME_STATE=r.GAME_STATUS.GAME_RESULT_SHOW:this.GAME_STATE=r.GAME_STATUS.GAME_END,this._watchGameState(t)}},t.prototype._watchGameState=function(e){var t=this;e!=this.GAME_STATE&&(console.log("hagologgame game state change",this.GAME_STATE),i.default.gameRoundInfo.gameStatus=this.GAME_STATE,this._stepInit(),this.GAME_STATE===r.GAME_STATUS.GAME_READY?(this.scheduleOnce(function(){o.default.getGameRoundInfo(!1).then(function(e){t._initStartData("GAME_READY")}),t._winBlockUpdate()},2),this._runningReady()):this.GAME_STATE===r.GAME_STATUS.GAME_RUNNING?this._beginRunning():this.GAME_STATE===r.GAME_STATUS.GAME_RESULT_SHOW?(this._winBlockUpdate(),this._stopRunning(),this._gameResultShow(),console.log("hagologgame \u83b7\u53d6\u4e0b\u4e00\u573a\u6bd4\u8d5b\u4fe1\u606f"),c.default.getGameRoundInfo(!0)):this.GAME_STATE!==r.GAME_STATUS.GAME_END&&this.GAME_STATE!==r.GAME_STATUS.BETTING||(console.log("hagologgame back main",this.GAME_STATE),i.default.nextGameRoundInfo.gameRoundInfo?(c.default.setGameRoundInfoFromNext(),cc.director.loadScene("bet")):cc.director.loadScene("main")))},t.prototype._stepInit=function(){this.gameReadyBlock.active=!1,this.gameResultBlock.active=!1},t.prototype._runningReady=function(){var e=((i.default.gameRoundInfo.statusInfoList[2].timestamp-this.currenTime)/1e3).toFixed(1);this.timeoutAnimation.getComponent(cc.Animation).getComponent(cc.Animation).play("ready_timeout",3.5-Number(e)>0?3.5-Number(e):0),console.log("hagologgame _runningReady",i.default.gameRoundInfo.statusInfoList[2].timestamp,this.currenTime,e),this.gameReadyBlock.active=!0},t.prototype._winBlockUpdate=function(){var e=this;i.default.gameRoundInfo.gameBetInfoList.forEach(function(t,n){1===t.rank&&(e.horseWinBlock.getComponent(cc.Sprite).spriteFrame=e.horseWinAsset[n],e.horseWinBlock.width=218,e.horseWinBlock.height=132,e.horseWinCount.getComponent(cc.Label).string=t.betUserCount.toString(),e.horseWinOdds.getComponent(cc.Label).string=t.odds.toString())})},t.prototype._resultReward=function(e){var t=this;if(i.default.gameRoundInfo.gameStatus===r.GAME_STATUS.GAME_RESULT_SHOW){var n=function(){var n=cc.instantiate(e);n.getChildByName("labelNode").getComponent(cc.Label).string="",t.raceLine.addChild(n);var o=cc.sequence(cc.delayTime(0),cc.scaleTo(.5,1.2,1.2),cc.moveTo(.6,-320,-315));n.runAction(o)};n(),this.scheduleOnce(function(){n()},.2),this.scheduleOnce(function(){n()},.4),this.scheduleOnce(function(){n()},.6),console.log("hagologgame _resultReward winwin")}},t.prototype._gameResultShow=function(){this.gameResultBlock.active=!0,this._setScore()},t.prototype._beginRunning=function(){var e=this;this.IsBeginRunningOnce||(10===this.gameSecond&&this.horseObj.map(function(t,n){e.horseObj[n].runAction(cc.moveTo(1,e.horseObj[n].position.x+e.horseDistance/2,e.horseObj[n].position.y))}),this.scheduleOnce(function(){e.langan.getComponent(cc.Animation).play("langan"),e.raceBg.getComponent(cc.Animation).play("race_bg_r"),e.raceFloor.getComponent(cc.Animation).play("race_caodi_r"),e.IsBeginRunningOnce=!0},1))},t.prototype._stopRunning=function(){var e=this;this.langan.getComponent(cc.Animation).stop("langan"),this.raceBg.getComponent(cc.Animation).stop("race_bg_r"),this.raceFloor.getComponent(cc.Animation).stop("race_caodi_r"),this.IsBeginRunningOnce=!1,this.horseObj.map(function(t,n){e.horseObj[n].stopAllActions(),e.horseObj[n].runAction(cc.moveTo(1,cc.v2(e.endHorsePos,e.horseObj[n].position.y)))}),this.horseIconObj.map(function(t,n){e.horseIconObj[n].stopAllActions(),e.horseIconObj[n].runAction(cc.moveTo(1,cc.v2(e.endRacePos,e.horseIconObj[n].position.y)))})},t.prototype._initHorse=function(){var e=this;this.horseAsset.map(function(t,n){e.horseObj[n]=cc.instantiate(e.horseAnimate),e.horseObj[n].setPosition(e.beginHorsePos,-10*n),e.horseObj[n].getChildByName("horse").getComponent(cc.Sprite).spriteFrame=e.horseAsset[n];var o=e.horseObj[n].getChildByName("horse").getComponent(cc.Animation);o.play("horse"+(n+1)+"_action"),o.playOnLoad=!0,e.horseRaceContain.addChild(e.horseObj[n])})},t.prototype._HorseIconTop=function(e){return-41*e-78},t.prototype._initHorseIcon=function(){var e=this;this.horseIcon.map(function(t,n){e.horseIconObj[n]=new cc.Node("horseIcon"),e.horseIconObj[n].addComponent(cc.Sprite).spriteFrame=t;var o=e._HorseIconTop(n);e.horseIconObj[n].setPosition(e.beginRacePos,o),e.Bets[n]&&(e.Bets[n].iconPos=e.beginRacePos),e.raceContain.addChild(e.horseIconObj[n])}),this._initHoreRace()},t.prototype._setScore=function(){var e=function(e){var n=t.userBetInfos[e];t.scoreObj[n.betObjId].active=!!n.betAmount;var o=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.scaleTo(.5,1,1));o.easing(cc.easeIn(2)),t.scoreObj[n.betObjId].getChildByName("labelNode").runAction(o);var i=t.GAME_STATE===r.GAME_STATUS.GAME_RESULT_SHOW?n.winAmount:n.betAmount;t.scoreObj[n.betObjId].getChildByName("labelNode").getComponent(cc.Label).string=" "+s.unit(i)+" ",n.winAmount>0&&t.GAME_STATE===r.GAME_STATUS.GAME_RESULT_SHOW&&(console.log("hagologgame _setScore winwin"),t._resultReward(t.scoreObj[n.betObjId]),a.default.emit("updateWallet"),a.default.emit("walletAddAnimation"),t.scheduleOnce(function(){a.default.emit("showAwardWindow",{amount:n.winAmount})},2))},t=this;for(var n in this.userBetInfos)e(n)},t.prototype._initScoreIcon=function(){var e=this;Object.keys(this.scoreObj).length>0||this.Bets.map(function(t,n){e.scoreObj[t.betObjId]=new cc.Node("scoreIcon");var o=new cc.Node("labelNode"),i=o.addComponent(cc.Label);i.string="  ",i.fontSize=14,i.lineHeight=14,o.setPosition(35,0);var a=new cc.Node("iconNode");a.addComponent(cc.Sprite).spriteFrame=e.langcaoIcon,a.setScale(.6),e.scoreObj[t.betObjId].addChild(a),e.scoreObj[t.betObjId].addChild(o);var r=e._HorseIconTop(n);e.scoreObj[t.betObjId].setPosition(300,r),e.raceContain.addChild(e.scoreObj[t.betObjId]),e.scoreObj[t.betObjId].active=!1})},t.prototype._horseMoveAction=function(){var e=this;this.horseObj.map(function(t,n){e.horseObj[n].runAction(cc.moveTo(1,cc.v2(e.Bets[n].pos,e.horseObj[n].position.y)))})},t.prototype._horseIconMoveAction=function(){var e=this;this.horseIconObj.map(function(t,n){e.horseIconObj[n].runAction(cc.moveTo(1,cc.v2(e.Bets[n].iconPos,e.horseIconObj[n].position.y)))})},t.prototype._initHoreRace=function(){var e=this,t=this.Bets.length;this.Bets.map(function(n,o){if(e.Bets[o].iconRaceEndPos=e.endRacePos-15*(e.Bets[o].rank-1),e.Bets[o].HorseRaceEndPos=50*(t-e.Bets[o].rank),e.Bets[o].random=e._getRandomValue(o),e.gameSecond<10){var i=e._HorseIconTop(o),a=void 0;a=e.gameSecond>5?30*e.Bets[o].random-15+e.iconRacePerDistance*(10-e.gameSecond)+e.horseIconObj[o].position.x:e.Bets[o].iconRaceEndPos-e.iconRaceDistance*e.gameSecond/10,e.horseIconObj[o].setPosition(a,i),e.horseObj[o].setPosition(e.Bets[o].HorseRaceEndPos/2,e.horseObj[o].position.y)}})},t.prototype._moveHorseRace=function(){var e=this;this.gameSecond>0&&(this.gameSecond<=5?this.Bets.map(function(t,n){e.Bets[n].lessIconRaceDis||(e.Bets[n].lessIconRaceDis=(e.Bets[n].iconRaceEndPos-e.horseIconObj[n].position.x)/(e.gameSecond-1),e.Bets[n].lessIconHorseDis=(e.Bets[n].HorseRaceEndPos-e.horseObj[n].position.x)/e.gameSecond),e.Bets[n].iconPos=e.Bets[n].lessIconRaceDis+e.horseIconObj[n].position.x,e.Bets[n].pos=e.Bets[n].lessIconHorseDis+e.horseObj[n].position.x}):this.Bets.map(function(t,n){e.Bets[n].pos=100*e.Bets[n].random-50+e.horseObj[n].position.x,e.Bets[n].iconPos=30*e.Bets[n].random-15+e.iconRacePerDistance+e.horseIconObj[n].position.x}),this._horseMoveAction(),this._horseIconMoveAction(),this.gameSecond--,console.log("hagologgame gameSecond",this.gameSecond,this.Bets))},t.prototype._getRandomValue=function(e){var t=this.beginTimeToStringArray.length,n=this.beginTimeToStringArray.filter(function(t){return t%6==e});return n=n.length,Math.ceil(n/t*10)/10},t.prototype._schedule=function(e){e();this.schedule(function(t){e()},1,this.remainSecond,0)},__decorate([d({type:cc.Label})],t.prototype,"label",void 0),__decorate([d],t.prototype,"text",void 0),__decorate([d({type:cc.Node})],t.prototype,"gameReadyBlock",void 0),__decorate([d({type:cc.Node})],t.prototype,"gameResultBlock",void 0),__decorate([d({type:cc.Node})],t.prototype,"langan",void 0),__decorate([d({type:cc.Node})],t.prototype,"raceBg",void 0),__decorate([d({type:cc.Node})],t.prototype,"raceFloor",void 0),__decorate([d({type:cc.Node})],t.prototype,"raceLine",void 0),__decorate([d({type:cc.Node})],t.prototype,"horseWinBlock",void 0),__decorate([d({type:cc.SpriteFrame})],t.prototype,"horseWinAsset",void 0),__decorate([d({type:cc.Node})],t.prototype,"timeoutAnimation",void 0),__decorate([d({type:cc.Node})],t.prototype,"horseWinCount",void 0),__decorate([d({type:cc.Node})],t.prototype,"horseWinOdds",void 0),__decorate([d({type:cc.Node})],t.prototype,"animation_warp",void 0),__decorate([d({type:cc.SpriteFrame})],t.prototype,"horseAsset",void 0),__decorate([d({type:cc.SpriteFrame})],t.prototype,"langcaoIcon",void 0),__decorate([d({type:cc.Prefab})],t.prototype,"horseAnimate",void 0),__decorate([d({type:cc.Node})],t.prototype,"horseRaceContain",void 0),__decorate([d({type:cc.SpriteFrame})],t.prototype,"horseIcon",void 0),__decorate([d({type:cc.Node})],t.prototype,"raceContain",void 0),t=__decorate([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./config":"config","./lib/eventbus/instance":"instance","./lib/globalstate/debugdata":"debugdata","./lib/globalstate/global_state":"global_state","./lib/globalstate/state_ctrl":"state_ctrl","./lib/helper/util":"util"}],sel_bt:[function(e,t,n){"use strict";cc._RF.push(t,"917f9fssfhIi4dSoaEtsP+6","sel_bt"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../lib/globalstate/global_state"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return __extends(t,e),t.prototype.start=function(){},t.prototype.selectBetLevel=function(e){var t=cc.find("Canvas/bet_select").children;for(var n in cc.log(e.currentTarget.clickIndex,cc.find("Canvas/bet_select")),t)Number(n)===Number(e.currentTarget.clickIndex)?(t[n].getChildByName("selected_bg").active=!0,t[n].getChildByName("selected_icon").active=!0):(t[n].getChildByName("selected_bg").active=!1,t[n].getChildByName("selected_icon").active=!1);cc.log(t[e.currentTarget.clickIndex]),o.default.curSelectCost=e.currentTarget.clickIndex},__decorate([r(cc.Label)],t.prototype,"label",void 0),__decorate([r],t.prototype,"text",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../lib/globalstate/global_state":"global_state"}],sendMessage:[function(e,t,n){"use strict";cc._RF.push(t,"31f9eXw36ZG7LyitR4OLqkG","sendMessage"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./module_ui"),i=e("./module_device"),a=e("./module_game"),r=e("./module_liveroom"),s=e("./module_data");console.log("hagologgame dataSend KKK",JSON.stringify(s.default)),console.log("hagologgame uiSend",JSON.stringify(o.default)),console.log("hagologgame deviceModuleSend",JSON.stringify(i.default)),console.log("hagologgame gameSend",JSON.stringify(a.default)),console.log("hagologgame liveroomSend",JSON.stringify(r.default)),n.sendMessage=function(e,t,n,o,i){console.log("hagologgame sendMessage "+e+" "+t+" "+JSON.stringify(n)),window.yyrt&&window.yyrt.sendMessageToApp(e,{function_name:t,receive_trace:o||null,callback_trace:i||null,params:JSON.stringify(n)})},n.default=__assign({},s.default,o.default,i.default,a.default,r.default),cc._RF.pop()},{"./module_data":"module_data","./module_device":"module_device","./module_game":"module_game","./module_liveroom":"module_liveroom","./module_ui":"module_ui"}],state_ctrl:[function(e,t,n){"use strict";cc._RF.push(t,"9f1fdxZ/URF6ouRCcAgZuNs","state_ctrl"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../config"),i=e("./mock"),a=e("./global_state"),r=e("../http/gameAxios"),s=e("../../lib/app/appindex");n.default={getUserPropCount:function(){return __awaiter(this,void 0,Promise,function(){var e;return __generator(this,function(t){return e=i.mockUserPropCount(),o.isHamoTV&&(e=r.default.get(""+o.getUserPropCount)),[2,e.then(function(e){0===e.code&&(a.default.propCount=e.data.propCount),console.log("hagologgame after getUserPropCount",e)})]})})},getGameRoundInfo:function(e){return __awaiter(this,void 0,Promise,function(){var t,n=this;return __generator(this,function(s){return t=i.mockGameRoundInfo(),o.isHamoTV&&(t=r.default.get(""+o.getGameRoundInfo,{params:{gameRoundId:0,isNext:e}})),console.log("hagologgame before getGameRoundInfo",o.isHamoTV,t),[2,t.then(function(t){console.log("hagologgame after getGameRoundInfo",t),0===t.code&&(e?(a.default.nextGameRoundInfo=t.data,a.default.nextGameRoundInfo.updateTimeStamp=(new Date).getTime()):n.setGameRoundInfo(t.data))})]})})},setGameRoundInfo:function(e){var t=(new Date).getTime();t>a.default.updateTimeStamp&&e.gameRoundInfo&&(a.default.gameRoundInfo=e.gameRoundInfo,a.default.gameRoundInfo.gameRoundId=e.gameRoundInfo.gameRoundIdStr,e.updateTimeStamp?a.default.updateTimeStamp=e.updateTimeStamp:a.default.updateTimeStamp=t),a.default.userBetInfos=e.userBetInfos,a.default.isAutoBet=e.isAutoBet,a.default.isGameExist=e.isGameExist},setGameRoundInfoFromNext:function(){a.default.nextGameRoundInfo&&a.default.nextGameRoundInfo.gameRoundInfo&&a.default.nextGameRoundInfo.gameRoundInfo.gameRoundId&&a.default.nextGameRoundInfo.gameRoundInfo.gameRoundId>a.default.gameRoundInfo.gameRoundId?(a.default.nextGameRoundInfo.gameRoundInfo.gameStatus=o.GAME_STATUS.BETTING,this.setGameRoundInfo(a.default.nextGameRoundInfo),a.default.nextGameRoundInfo={}):console.log("hagologgame setGameRoundInfoFromNext false")},doAutoBet:function(){return __awaiter(this,void 0,Promise,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,r.default.get(""+o.autoBet,{params:{gameRoundId:a.default.gameRoundInfo.gameRoundId}})];case 1:return e=t.sent(),console.log("hagologgame after doAutoBet",e),0!==e.code?[3,2]:(a.default.userBetInfos=e.data.userBettingInfos,[3,4]);case 2:return a.default.userBetInfos=[],4!==e.code?[3,4]:[4,this.setGamblingAutoBet(!1)];case 3:t.sent(),t.label=4;case 4:return[2]}})})},setGamblingAutoBet:function(e){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2,r.default.get(""+o.setAutoBet,{params:{isAuto:e}}).then(function(t){console.log("hagologgame after setAutoBet",t),0===t.code&&(a.default.isAutoBet=e)})]})})},addTotalAmount:function(e,t){console.log("hagologgame addTotalAmount",e,t,a.default.gameRoundInfo.gameBetInfoList),a.default.gameRoundInfo.gameBetInfoList.forEach(function(n,o){if(n.betObjId-1==e)return a.default.gameRoundInfo.gameBetInfoList[o].betAmount=n.betAmount+t,console.log("hagologgame mid addTotalAmount",n,t),!1}),console.log("hagologgame after addTotalAmount",a.default.gameRoundInfo.gameBetInfoList)},addMineAmount:function(e,t){var n=!1;a.default.userBetInfos.forEach(function(o,i){if(o.betObjId-1==e)return a.default.userBetInfos[i].betAmount=o.betAmount+t,n=!0,!1}),n||a.default.userBetInfos.push({betObjId:Number(e)+1,betAmount:t,winAmount:0})},getTotalAmount:function(e){var t=0;return a.default.gameRoundInfo.gameBetInfoList.forEach(function(n){if(n.betObjId-1==e)return t=n.betAmount,!1}),t},getMineAmount:function(e){var t=0;return a.default.userBetInfos.forEach(function(n){if(n.betObjId-1==e)return t=n.betAmount,!1}),console.log("hagologgame getMineAmount",a.default.userBetInfos,e),t},checkExistFreePackage:function(){return r.default.get(""+o.checkExistFreePackage,{params:{}}).then(function(e){0===e.code&&(a.default.giftMessage=e.data)})},receiveFreePackage:function(){return console.log("receiveFreePackage "+JSON.stringify(a.default.giftMessage)),new Promise(function(e){r.default.get(""+o.receiveFreePackage,{params:{packageId:a.default.giftMessage.packageId}}).then(function(t){e(t)})})},setBaseGameInfo:function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,o,i;return __generator(this,function(r){switch(r.label){case 0:return console.log("hagologgame setBaseGameInfo before "+JSON.stringify(a.default.baseClientInfo)),e=a.default.baseClientInfo,[4,s.default.getUid()];case 1:return e.uid=r.sent(),console.log("hagologgame setBaseGameInfo uid "+a.default.baseClientInfo.uid),t=a.default.baseClientInfo,[4,s.default.getGameId()];case 2:return t.gameId=r.sent(),console.log("hagologgame setBaseGameInfo gameId "+a.default.baseClientInfo.gameId),n=a.default.baseClientInfo,[4,s.default.getSid()];case 3:return n.sid=r.sent(),console.log("hagologgame setBaseGameInfo sid "+a.default.baseClientInfo.sid),o=a.default.baseClientInfo,[4,s.default.getCountryCode()];case 4:return o.country=r.sent(),console.log("hagologgame setBaseGameInfo country "+a.default.baseClientInfo.country),i=a.default.baseClientInfo,[4,s.default.hdid()];case 5:return i.hdid=r.sent(),console.log("hagologgame setBaseGameInfo hdid "+a.default.baseClientInfo.hdid),a.default.baseClientInfo.isProduction=!0,a.default.baseClientInfo.gameApiHost=a.default.baseClientInfo.isProduction?"igame-games.hamo.tv":"igame-games-test.hamo.tv",console.log("hagologgame setBaseGameInfo isProduction "+a.default.baseClientInfo.isProduction+" "+a.default.baseClientInfo.gameApiHost),a.default.baseClientInfo.hadSet=!0,console.log("hagologgame setBaseGameInfo after "+JSON.stringify(a.default.baseClientInfo)),[2]}})})}},cc._RF.pop()},{"../../config":"config","../../lib/app/appindex":"appindex","../http/gameAxios":"gameAxios","./global_state":"global_state","./mock":"mock"}],util:[function(e,t,n){"use strict";cc._RF.push(t,"598b0pP5nZMBZkae2q8nwZb","util"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../eventbus/instance");function i(e,t){var n=new RegExp("[\\?&#]"+e+"=([^&#]+)","gi"),o="";t&&(o=t),location.href&&(o=location.href),window.__href&&(o=window.__href);var i=o.match(n),a="";if(i&&i.length>0){var r=(a=i[i.length-1]).indexOf("=");return a.substring(r+1)}return""}n.debounce=function(e,t){var n=null;return function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,i)},t)}},n.throttle=function(e,t){var n=0;return function(){var o=arguments,i=Date.now();console.log("throttle 2"),i-n>t&&(e.apply(this,o),n=i)}},n.getURLParam=i,n.unit=function(e){return e<1e3?e.toString():e<1e6?(e/1e3).toFixed(2)+"K":e<1e9?(e/1e6).toFixed(2)+"M":(e/1e9).toFixed(2)+"B"},n.formatDuring=function(e){return parseInt((e/36e5).toString())+":"+parseInt((e%36e5/6e4).toString())+":"+parseInt((e%6e4/1e3).toString())},n.commonToast=function(e,t){o.default.emit("commonToast",{message:e,showtime:t})},n.commonConfirm=function(e,t){o.default.emit("commonConfirm",{message:e,cb:t})},n.getLanguage=function(){return i("locale")?i("locale"):["zh-HK","zh-TW","zh-MO"].indexOf(window.navigator.language)>-1?window.navigator.language.toLowerCase():window.navigator.language.split("-")[0]},n.getEnvironment=function(){return/m-test/.test(window.location.href)},n.isAndroid=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,cc._RF.pop()},{"../eventbus/instance":"instance"}],v:[function(e,t,n){"use strict";cc._RF.push(t,"ceaf5+ZFBhP9bCngas7gIPJ","v"),Object.defineProperty(n,"__esModule",{value:!0}),n.VersionCompare=function(e,t){if((e=e||"0.0.0")===(t=t||"0.0.0"))return!0;for(var n=e.split("."),o=t.split("."),i=Math.max(n.length,o.length),a=0;a<i;a++){var r=~~o[a],s=~~n[a];if(r<s)return!1;if(r>s)return!0}return!1},cc._RF.pop()},{}],yycoreindex:[function(e,t,n){"use strict";cc._RF.push(t,"8e259Yw2rBByqkY1Ie5EoO2","yycoreindex"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../cookie"),i=e("./YYApiCore"),a=e("../../brower"),r=e("./jump"),s=e("./member"),c=e("./media"),u=e("../../helper/util"),l=i.default;function d(){var e=window.navigator.userAgent.toLowerCase();return!!/hamo/i.test(e)}window.frames&&window.frames.length!==parent.frames.length&&(l=parent.window&&parent.window.YYApiCore&&parent.window.YYApiCore||i.default),n.default={appShare:function(e){return l.invokeClientMethod("ui","showShareDialog",e)},showWallet:function(){return l.invokeClientMethod("ui","showWallet")},jumpPlayList:function(){return l.invokeClientMethod("ui","jumpPlayList")},navigationBack:function(){return l.invokeClientMethod("ui","navigationBack")},pushBindPhoneView:function(){return l.invokeClientMethod("ui","pushBindPhoneView")},popViewController:function(){return l.invokeClientMethod("ui","popViewController")},showSMSLoginView:function(){return l.invokeClientMethod("ui","showSMSLoginView")},showLoginDialogWithCallback:function(e){return console.log(e),l.invokeClientMethod("ui","showLoginDialogWithCallback",{},e)},toast:function(e,t){return l.invokeClientMethod("ui","toast",{msg:e,duration:t})},showLoginView:function(){return console.log("\u663e\u793a\u767b\u5f55\u754c\u9762showLoginView"),l.invokeClientMethod("ui","showLoginView")},showLoginDialog:function(){return console.log("\u663e\u793ahamo app \u767b\u5f55\u9875\u9762"),l.invokeClientMethod("ui","showLoginDialog")},showProgressWindow:function(e){return l.invokeClientMethod("ui","showProgressWindow",{show:e})},setPullRefreshEnable:function(e){return void 0===e&&(e=!0),l.invokeClientMethod("ui","setPullRefreshEnable",{isRefresh:e})},getLoginUserInfo:function(){return d()?new Promise(function(e){return l.invokeClientMethod("data","getLoginUserInfo",{},e)}):new Promise(function(e){return function(e){var t={},n=o.default.parse(document.cookie),i=n.yyuid;i&&(t={nickName:n.username||"",uid:i,headerUrl:n.headerUrl||""}),e&&e(t)}(e)})},isLogined:function(){return new Promise(function(e){return l.invokeClientMethod("data","isLogined",{},e)})},deviceInfo:function(){return new Promise(function(e){return l.invokeClientMethod("device","deviceInfo",{},e)})},deviceName:function(){return new Promise(function(e){return l.invokeClientMethod(" ","deviceName",{},e)})},appVersion:function(){return console.log("appVersion"),new Promise(function(e){return l.invokeClientMethod("device","appVersion",{},e)})},appBuild:function(){return new Promise(function(e){return l.invokeClientMethod("device","appBuild",{},e)})},systemName:function(){return new Promise(function(e){return l.invokeClientMethod("device","systemName",{},e)})},systemVersion:function(){return new Promise(function(e){return l.invokeClientMethod("device","systemVersion",{},e)})},isMobileSODA:function(){return new Promise(function(e){return l.invokeClientMethod("device","isMobileSODA",{},e)})},networkStatus:function(){return new Promise(function(e){return l.invokeClientMethod("device","networkStatus",{},e)})},carrier:function(){return new Promise(function(e){return l.invokeClientMethod("device","carrier",{},e)})},carrierName:function(){return new Promise(function(e){return l.invokeClientMethod("device","carrierName",{},e)})},imei:function(){return new Promise(function(e){return l.invokeClientMethod("device","imei",{},e)})},imsi:function(){return new Promise(function(e){return l.invokeClientMethod("device","imsi",{},e)})},deviceMac:function(){return new Promise(function(e){return l.invokeClientMethod("device","deviceMac",{},e)})},getLocation:function(){return new Promise(function(e){return l.invokeClientMethod("device","getLocation",{},e)})},environment:function(){return new Promise(function(e){return l.invokeClientMethod("device","environment",{},e)})},isMobileOnePiece:function(){return new Promise(function(e){return l.invokeClientMethod("device","isMobileOnePiece",{},e)})},hdid:function(){return d()?new Promise(function(e){return l.invokeClientMethod("device","hdid",{},e)}):new Promise(function(e){return e(o.default.parse(document.cookie).hiido_ui||(new Date).getTime())})},listenEvent:function(e,t){return l.invokeClientMethod("ui","addEventCallback",{event:e},t)},setNavigationBar:function(e,t,n,o){return void 0===e&&(e=""),void 0===t&&(t=null),void 0===o&&(o=null),l.invokeClientMethod("ui","setNavigationBar",{title:e,rightItem:t,leftItem:o},n)},setContextAppearRefresh:function(e){return void 0===e&&(e=!0),new Promise(function(t){return l.invokeClientMethod("ui","setContextAppearRefresh",{refresh:e},t)})},webTicket:function(){return new Promise(function(e){return l.invokeClientMethod("data","webTicket",{},e)})},getUid:function(){return d()?new Promise(function(e){return l.invokeClientMethod("data","myUid",{},e)}):new Promise(function(e){e("3301847196")})},publishCallback:function(e){if(d()&&a.isIphone())return l.invokeClientMethod("ui","addEventCallback",{event:"onPublishCompletion"},e)},publishReviewCallback:function(e){if(d()&&a.isIphone())return l.invokeClientMethod("ui","addEventCallback",{event:"onPublishReviewCompletion"},e)},showPay:function(e){return void 0===e&&(e={}),l.invokeClientMethod("ui","showPay",e)},openWebview:function(e,t){l.invokeClientMethod("liveroom","showWindow",{url:e,skipVideo:t})},subscribeGame:function(e){return void 0===e&&(e={}),new Promise(function(t){return l.invokeClientMethod("game","subscribeGame",e,t)})},isApp:d,goto:r.default,member:s.default,media:c.default,checkLogin:function(e){return void 0===e&&(e=function(){}),__awaiter(this,void 0,Promise,function(){return __generator(this,function(t){switch(t.label){case 0:return d()?[4,this.isLogined()]:[3,2];case 1:return t.sent()?[2,!0]:(this.showLoginDialogWithCallback(e),[2,!1]);case 2:return[2,!0];case 3:return[2]}})})},getGameId:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,u.getURLParam("gameId")||""]})})},getSid:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,u.getURLParam("sid")||""]})})},getCountryCode:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,u.getURLParam("countryCode")||""]})})},getEnvironmentStatus:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,/m.hamo.tv/.test(window.location.href)]})})}},cc._RF.pop()},{"../../brower":"brower","../../cookie":"cookie","../../helper/util":"util","./YYApiCore":"YYApiCore","./jump":"jump","./media":"media","./member":"member"}],zh:[function(e,t,n){"use strict";cc._RF.push(t,"08a1dqshDZPzJ7MgoG9c0zO","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={},cc._RF.pop()},{}]},{},["bet_scene","commom_scene","config","debug","exchange_scene","bet_bt","forage_list_item","header","history_table_tr","rank_item","sel_bt","forage_scene","help_scene","history_scene","appindex","hago_api","hagocoreindex","module_data","module_device","module_game","module_liveroom","module_ui","receiveMessage","sendMessage","YYApiCore","callNative","jump","media","member","yycoreindex","axios","brower","cookie","instance","debugdata","global_state","mock","state_ctrl","date","http","util","gameAxios","i18n","v","main_scene","rank_scene","zh","running_scene","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);