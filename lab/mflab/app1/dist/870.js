(self.webpackChunk_dynamic_system_host_app1=self.webpackChunk_dynamic_system_host_app1||[]).push([[870],{870:(e,t,n)=>{"use strict";n.r(t);var l=n(131),a=n.n(l);function o(e){const{ready:t,failed:l}=(e=>{const[t,n]=a().useState(!1),[l,o]=a().useState(!1);return a().useEffect((()=>{if(!e.url)return;const t=document.createElement("script");return t.src=e.url,t.type="text/javascript",t.async=!0,n(!1),o(!1),t.onload=()=>{console.log("Dynamic Script Loaded: "+e.url),n(!0)},t.onerror=()=>{console.error("Dynamic Script Error: "+e.url),n(!1),o(!0)},document.head.appendChild(t),()=>{console.log("Dynamic Script Removed: "+e.url),document.head.removeChild(t)}}),[e.url]),{ready:t,failed:l}})({url:e.system&&e.system.url});if(!e.system)return a().createElement("h2",null,"Not system specified");if(!t)return a().createElement("h2",null,"Loading dynamic script: ",e.system.url);if(l)return a().createElement("h2",null,"Failed to load dynamic script: ",e.system.url);const o=a().lazy((r=e.system.scope,s=e.system.module,async()=>{await n.I("default");const e=window[r];return await e.init(n.S.default),(await window[r].get(s))()}));var r,s;return a().createElement(a().Suspense,{fallback:"Loading System"},a().createElement(o,null))}const r=function(){const[e,t]=a().useState(void 0);return a().createElement("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}},a().createElement("h1",null,"Dynamic System Host"),a().createElement("h2",null,"App 1"),a().createElement("p",null,"The Dynamic System will take advantage Module Federation"," ",a().createElement("strong",null,"remotes")," and ",a().createElement("strong",null,"exposes"),". It will no load components that have been loaded already."),a().createElement("button",{onClick:function(){t({url:"http://localhost:3002/remoteEntry.js",scope:"app2",module:"./Widget"})}},"Load App 2 Widget"),a().createElement("button",{onClick:function(){t({url:"http://localhost:3003/remoteEntry.js",scope:"app3",module:"./Widget"})}},"Load App 3 Widget"),a().createElement("div",{style:{marginTop:"2em"}},a().createElement(o,{system:e})))};var s=n(4);n.n(s)().render(a().createElement(r,null),document.getElementById("root"))}}]);