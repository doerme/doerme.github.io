(window.webpackJsonp_dynamic_system_host_app1=window.webpackJsonp_dynamic_system_host_app1||[]).push([[78,678],{78:(e,t,n)=>{"use strict";n.r(t);var l=n(678),o=n.n(l);function a(e){const{ready:t,failed:l}=(e=>{const[t,n]=o().useState(!1),[l,a]=o().useState(!1);return o().useEffect(()=>{if(!e.url)return;const t=document.createElement("script");return t.src=e.url,t.type="text/javascript",t.async=!0,n(!1),a(!1),t.onload=()=>{console.log("Dynamic Script Loaded: "+e.url),n(!0)},t.onerror=()=>{console.error("Dynamic Script Error: "+e.url),n(!1),a(!0)},document.head.appendChild(t),()=>{console.log("Dynamic Script Removed: "+e.url),document.head.removeChild(t)}},[e.url]),{ready:t,failed:l}})({url:e.system&&e.system.url});if(!e.system)return o().createElement("h2",null,"Not system specified");if(!t)return o().createElement("h2",null,"Loading dynamic script: ",e.system.url);if(l)return o().createElement("h2",null,"Failed to load dynamic script: ",e.system.url);const a=o().lazy((r=e.system.scope,s=e.system.module,async()=>(console.log(n.S),window[r].init(n.S.default),(await window[r].get(s))())));var r,s;return o().createElement(o().Suspense,{fallback:"Loading System"},o().createElement(a,null))}const r=function(){const[e,t]=o().useState(void 0);return o().createElement("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}},o().createElement("h1",null,"Dynamic System Host"),o().createElement("h2",null,"App 1"),o().createElement("p",null,"The Dynamic System will take advantage Module Federation"," ",o().createElement("strong",null,"remotes")," and ",o().createElement("strong",null,"exposes"),". It will no load components that have been loaded already."),o().createElement("button",{onClick:function(){t({url:"http://www.jeremypay.com/lab/mflab/app2/dist/remoteEntry.js",scope:"app2",module:"Widget"})}},"Load App 2 Widget"),o().createElement("button",{onClick:function(){t({url:"http://www.jeremypay.com/lab/mflab/app3/dist/remoteEntry.js",scope:"app3",module:"Widget"})}},"Load App 3 Widget"),o().createElement("div",{style:{marginTop:"2em"}},o().createElement(a,{system:e})))};var s=n(970);n.n(s)().render(o().createElement(r,null),document.getElementById("root"))}}]);